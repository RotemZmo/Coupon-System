function _createForOfIteratorHelper(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){c=!0,r=t},f:function(){try{a||null==o.return||o.return()}finally{if(c)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{pYoV:function(t,e,o){"use strict";o.r(e),o.d(e,"CompanyModule",(function(){return nt}));var n,i,r=o("ofXK"),a=o("tyNb"),c=o("fXoL"),u=o("P7Fj"),l=o("JIr8"),p=o("tk/3"),s=o("QOwt"),b=((n=function(){function t(e,o){_classCallCheck(this,t),this.httpClient=e,this.errorService=o}return _createClass(t,[{key:"addCoupon",value:function(t){var e=this;return this.httpClient.post("http://localhost:8080/company/buyCoupon",t).pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}},{key:"updateCoupon",value:function(t){var e=this;return this.httpClient.put("http://localhost:8080/company/updateCoupon",t).pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}},{key:"deleteCoupon",value:function(t){var e=this;return this.httpClient.delete("http://localhost:8080/company/delete/"+t).pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}},{key:"getAllCompanyCoupons",value:function(){var t=this;return this.httpClient.get("http://localhost:8080/company/all").pipe(Object(l.a)((function(e){return t.errorService.errorHandler(e)})))}},{key:"getCouponsByMaxPrice",value:function(t){var e=this;return this.httpClient.get("http://localhost:8080/company/couponsByPrice/"+t).pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}},{key:"getCouponsByCategory",value:function(t){var e=this;return this.httpClient.get("http://localhost:8080/company/couponsByCat/"+t).pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}},{key:"getCompanyDetails",value:function(){var t=this;return this.httpClient.get("http://localhost:8080/company/details").pipe(Object(l.a)((function(e){return t.errorService.errorHandler(e)})))}},{key:"deactivateCoupon",value:function(t){var e=this;return this.httpClient.put("http://localhost:8080/company/deactivateCoup/"+t,"").pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}},{key:"activateCoupon",value:function(t){var e=this;return this.httpClient.put("http://localhost:8080/company/activateCoupon/"+t,"").pipe(Object(l.a)((function(t){return e.errorService.errorHandler(t)})))}}]),t}()).\u0275fac=function(t){return new(t||n)(c.Yb(p.b),c.Yb(s.a))},n.\u0275prov=c.Kb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),m=o("dNgK"),f=((i=function(){function t(e,o,n,i,r){_classCallCheck(this,t),this.router=e,this.tokenService=o,this.compService=n,this.route=i,this.snackBar=r}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.compService.getCompanyDetails().subscribe((function(e){t.company=e}),(function(e){return t.snackBar.open(e,"",{duration:3e3})})),this.router.navigate(["allCoupons"],{relativeTo:this.route})}},{key:"logout",value:function(){this.tokenService.logout(),this.router.navigate(["home"])}}]),t}()).\u0275fac=function(t){return new(t||i)(c.Ob(a.b),c.Ob(u.a),c.Ob(b),c.Ob(a.a),c.Ob(m.a))},i.\u0275cmp=c.Ib({type:i,selectors:[["app-company-layout"]],decls:25,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","allCoupons","routerLinkActive","ActiveLink",1,"nav-link"],[1,"sr-only"],["routerLink","manageCoupons","routerLinkActive","ActiveLink",1,"nav-link"],[1,"nav-item"],["routerLink","myDetails","routerLinkActive","ActiveLink",1,"nav-link"],["type","submit",1,"btn","btn-outline-danger","my-2","my-sm-0",3,"click"]],template:function(t,e){1&t&&(c.Ub(0,"nav",0),c.Ub(1,"a",1),c.Ac(2),c.Tb(),c.Ub(3,"button",2),c.Pb(4,"span",3),c.Tb(),c.Ub(5,"div",4),c.Ub(6,"ul",5),c.Ub(7,"li",6),c.Ub(8,"a",7),c.Ac(9,"Home "),c.Ub(10,"span",8),c.Ac(11,"(current)"),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"li",6),c.Ub(13,"a",9),c.Ac(14,"Manage Coupons "),c.Ub(15,"span",8),c.Ac(16,"(current)"),c.Tb(),c.Tb(),c.Tb(),c.Ub(17,"li",10),c.Ub(18,"a",11),c.Ac(19,"Company Details "),c.Ub(20,"span",8),c.Ac(21,"(current)"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(22,"button",12),c.cc("click",(function(){return e.logout()})),c.Ac(23,"Logout"),c.Tb(),c.Tb(),c.Tb(),c.Pb(24,"router-outlet")),2&t&&(c.Cb(2),c.Bc(e.company.name))},directives:[a.d,a.c,a.f],styles:[""]}),i),d=o("3Pt+"),h=o("7koR"),y=o("1jcm"),C=o("/eHJ");function v(t,e){1&t&&(c.Ub(0,"label",14),c.Ac(1," Select Category"),c.Tb())}function g(t,e){if(1&t&&(c.Ub(0,"option",17),c.Ac(1),c.Tb()),2&t){var o=e.$implicit;c.lc("value",o),c.Cb(1),c.Cc(" ",o,"")}}function T(t,e){if(1&t&&(c.Ub(0,"select",15),c.zc(1,g,2,2,"option",16),c.Tb()),2&t){var o=c.gc();c.lc("formControl",o.type),c.Cb(1),c.lc("ngForOf",o.categories)}}function U(t,e){if(1&t&&(c.Ub(0,"div",18),c.Ub(1,"div",19),c.Ub(2,"span",20),c.Ac(3,"$"),c.Tb(),c.Tb(),c.Pb(4,"input",21),c.Tb()),2&t){var o=c.gc();c.Cb(4),c.lc("formControl",o.maxPrice)}}function k(t,e){if(1&t){var o=c.Vb();c.Ub(0,"div",1),c.Ub(1,"button",22),c.cc("click",(function(){return c.tc(o),c.gc().getCouponsByCategory()})),c.Ac(2,"Filter"),c.Tb(),c.Tb()}}function F(t,e){if(1&t){var o=c.Vb();c.Ub(0,"div",1),c.Ub(1,"button",22),c.cc("click",(function(){return c.tc(o),c.gc().getCouponsByMaxPrice()})),c.Ac(2,"Filter"),c.Tb(),c.Tb()}}function A(t,e){if(1&t&&(c.Ub(0,"article"),c.Ub(1,"div",24),c.Pb(2,"app-coupon-card",25),c.Tb(),c.Tb()),2&t){var o=e.$implicit;c.Cb(2),c.lc("coupon",o)("isOwned",!0)}}function P(t,e){if(1&t&&(c.Sb(0),c.zc(1,A,3,2,"article",23),c.Rb()),2&t){var o=c.gc();c.Cb(1),c.lc("ngForOf",o.companyFilteredCouponsDisplay)}}function I(t,e){if(1&t&&(c.Ub(0,"article"),c.Ub(1,"div",24),c.Pb(2,"app-coupon-card",25),c.Tb(),c.Tb()),2&t){var o=e.$implicit;c.Cb(2),c.lc("coupon",o)("isOwned",!0)}}function B(t,e){if(1&t&&(c.Sb(0),c.zc(1,I,3,2,"article",23),c.Rb()),2&t){var o=c.gc();c.Cb(1),c.lc("ngForOf",o.companyCouponsDisplay)}}var O,w=((O=function(){function t(e,o,n){_classCallCheck(this,t),this.companyService=e,this.fb=o,this.snackBar=n,this.filtered=!1,this.filterByPriceBool=!1,this.filterByCategoryBool=!1,this.categories=[h.a.Electronics,h.a.Food,h.a.Spa,h.a.Sport,h.a.Vacation],this.type=new d.d(h.a.Electronics,d.s.required),this.maxPrice=new d.d(1),this.selectCategory=new d.d(""),this.showInactive=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCompanyCoupons(),this.filterForm=this.fb.group({type:this.type,maxPriceSelected:this.maxPrice})}},{key:"getCompanyCoupons",value:function(){var t=this;this.companyService.getAllCompanyCoupons().subscribe((function(e){t.companyCoupons=e,t.companyCouponsDisplay=[];var o,n=_createForOfIteratorHelper(t.companyCoupons);try{for(n.s();!(o=n.n()).done;){var i=o.value;!0===i.active&&t.companyCouponsDisplay.push(i)}}catch(r){n.e(r)}finally{n.f()}}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}},{key:"filterByPrice",value:function(){this.filterByPriceBool=!0,this.filterByCategoryBool=!1}},{key:"filterByCategory",value:function(){this.filterByCategoryBool=!0,this.filterByPriceBool=!1}},{key:"getCouponsByCategory",value:function(){var t=this;this.filtered=!0,this.companyService.getCouponsByCategory(this.filterForm.get("type").value).subscribe((function(e){if(t.companyFilteredCoupons=e,t.showInactive)t.companyFilteredCouponsDisplay=t.companyFilteredCouponsDisplay;else{t.companyFilteredCouponsDisplay=[];var o,n=_createForOfIteratorHelper(t.companyFilteredCoupons);try{for(n.s();!(o=n.n()).done;){var i=o.value;!0===i.active&&t.companyFilteredCouponsDisplay.push(i)}}catch(r){n.e(r)}finally{n.f()}}}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}},{key:"getCouponsByMaxPrice",value:function(){var t=this;this.filtered=!0,console.log(this.maxPrice),console.log(this.filterForm.get("maxPriceSelected").value),this.companyService.getCouponsByMaxPrice(this.filterForm.get("maxPriceSelected").value).subscribe((function(e){if(t.companyFilteredCoupons=e,t.showInactive)t.companyFilteredCouponsDisplay=t.companyFilteredCouponsDisplay;else{t.companyFilteredCouponsDisplay=[];var o,n=_createForOfIteratorHelper(t.companyFilteredCoupons);try{for(n.s();!(o=n.n()).done;){var i=o.value;!0===i.active&&t.companyFilteredCouponsDisplay.push(i)}}catch(r){n.e(r)}finally{n.f()}}}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}},{key:"filter",value:function(){this.filtered=!0}},{key:"unfilter",value:function(){this.filtered=!1,this.filterByPriceBool=!1,this.filterByCategoryBool=!1}},{key:"onChange",value:function(t){if(!0===t.checked)this.companyCouponsDisplay=this.companyCoupons,this.companyFilteredCouponsDisplay=this.companyFilteredCoupons;else if(this.filtered){this.companyFilteredCouponsDisplay=[];var e,o=_createForOfIteratorHelper(this.companyFilteredCoupons);try{for(o.s();!(e=o.n()).done;){var n=e.value;!0===n.active&&this.companyFilteredCouponsDisplay.push(n)}}catch(c){o.e(c)}finally{o.f()}}else{this.companyCouponsDisplay=[];var i,r=_createForOfIteratorHelper(this.companyCoupons);try{for(r.s();!(i=r.n()).done;){var a=i.value;!0===a.active&&this.companyCouponsDisplay.push(a)}}catch(c){r.e(c)}finally{r.f()}}}}]),t}()).\u0275fac=function(t){return new(t||O)(c.Ob(b),c.Ob(d.c),c.Ob(m.a))},O.\u0275cmp=c.Ib({type:O,selectors:[["app-all-coupons"]],decls:24,vars:9,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"form-inline"],[1,"form-inline",3,"formGroup"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["for","exampleFormControlSelect1",4,"ngIf"],["class","form-control","id","exampleFormControlSelect1",3,"formControl",4,"ngIf"],["class","input-group",4,"ngIf"],["class","form-inline",4,"ngIf"],["disableRipple","true",1,"input-group",3,"ngModel","ngModelChange","change"],["id","coupons",1,"row"],[4,"ngIf"],["for","exampleFormControlSelect1"],["id","exampleFormControlSelect1",1,"form-control",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"input-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["type","number","placeholder","Max Price","aria-label","Max Price","aria-describedby","basic-addon1",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-success","my-2","my-sm-0",3,"click"],[4,"ngFor","ngForOf"],[1,"col-md-4","mb-5"],[3,"coupon","isOwned"]],template:function(t,e){1&t&&(c.Ub(0,"nav",0),c.Ub(1,"div",1),c.Ub(2,"form",2),c.Ub(3,"div",3),c.Ub(4,"button",4),c.Ac(5," Filter By "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.cc("click",(function(){return e.filterByPrice()})),c.Ac(8,"Price"),c.Tb(),c.Ub(9,"button",6),c.cc("click",(function(){return e.filterByCategory()})),c.Ac(10,"Category"),c.Tb(),c.Ub(11,"button",6),c.cc("click",(function(){return e.unfilter()})),c.Ac(12,"No Filter"),c.Tb(),c.Tb(),c.Tb(),c.zc(13,v,2,0,"label",7),c.zc(14,T,2,2,"select",8),c.zc(15,U,5,1,"div",9),c.Tb(),c.zc(16,k,3,0,"div",10),c.zc(17,F,3,0,"div",10),c.Tb(),c.Ub(18,"div"),c.Ub(19,"mat-slide-toggle",11),c.cc("ngModelChange",(function(t){return e.showInactive=t}))("change",(function(t){return e.onChange(t)})),c.Ac(20,"Show Inactive"),c.Tb(),c.Tb(),c.Tb(),c.Ub(21,"div",12),c.zc(22,P,2,1,"ng-container",13),c.zc(23,B,2,1,"ng-container",13),c.Tb()),2&t&&(c.Cb(2),c.lc("formGroup",e.filterForm),c.Cb(11),c.lc("ngIf",e.filterByCategoryBool),c.Cb(1),c.lc("ngIf",e.filterByCategoryBool),c.Cb(1),c.lc("ngIf",e.filterByPriceBool),c.Cb(1),c.lc("ngIf",e.filterByCategoryBool),c.Cb(1),c.lc("ngIf",e.filterByPriceBool),c.Cb(2),c.lc("ngModel",e.showInactive),c.Cb(3),c.lc("ngIf",e.filtered),c.Cb(1),c.lc("ngIf",!e.filtered))},directives:[d.u,d.l,d.f,r.m,y.a,d.k,d.n,d.r,d.e,r.l,d.o,d.t,d.p,d.b,C.a],styles:[".input-group[_ngcontent-%COMP%]{padding-left:1rem}.dropdown[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]{padding-right:1rem}"]}),O),S=function t(e,o,n,i,r,a,c,u,l,p,s){_classCallCheck(this,t),this.id=e,this.title=o,this.description=n,this.company=i,this.amount=r,this.price=a,this.startDate=c,this.endDate=u,this.type=l,this.image=p,this.active=s},D=o("A9xy"),x=o("kmnG"),_=o("qFsG"),M=o("d3UM"),j=o("iadO"),H=o("FKr1");function L(t,e){if(1&t&&(c.Ub(0,"mat-option",17),c.Ac(1),c.Tb()),2&t){var o=e.$implicit;c.lc("value",o),c.Cb(1),c.Cc(" ",o," ")}}function z(t,e){if(1&t){var o=c.Vb();c.Ub(0,"div",1),c.Ub(1,"form",2),c.Ub(2,"mat-form-field",3),c.Ub(3,"mat-label"),c.Ac(4,"Company"),c.Tb(),c.Pb(5,"input",4),c.Tb(),c.Ub(6,"table",5),c.Ub(7,"tr"),c.Ub(8,"td"),c.Ub(9,"mat-form-field",3),c.Ub(10,"mat-label"),c.Ac(11,"Title"),c.Tb(),c.Pb(12,"input",6),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(13,"p"),c.Ub(14,"mat-form-field",3),c.Ub(15,"mat-label"),c.Ac(16,"Description"),c.Tb(),c.Pb(17,"textarea",7),c.Tb(),c.Tb(),c.Ub(18,"table",5),c.Ub(19,"tr"),c.Ub(20,"td"),c.Ub(21,"mat-form-field",3),c.Ub(22,"mat-label"),c.Ac(23,"Price"),c.Tb(),c.Pb(24,"input",8),c.Tb(),c.Tb(),c.Ub(25,"td"),c.Ub(26,"mat-form-field",3),c.Ub(27,"mat-label"),c.Ac(28,"Amount"),c.Tb(),c.Pb(29,"input",8),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(30,"table",5),c.Ub(31,"tr"),c.Ub(32,"td"),c.Ub(33,"mat-label"),c.Ac(34,"Select Category"),c.Tb(),c.Ub(35,"mat-select",9),c.zc(36,L,2,2,"mat-option",10),c.Tb(),c.Tb(),c.Ub(37,"td"),c.Ub(38,"mat-form-field",11),c.Ub(39,"mat-label"),c.Ac(40,"Choose an expiration date"),c.Tb(),c.Pb(41,"input",12),c.Pb(42,"mat-datepicker-toggle",13),c.Pb(43,"mat-datepicker",null,14),c.Tb(),c.Tb(),c.Ub(45,"td"),c.Ub(46,"mat-form-field",3),c.Ub(47,"mat-label"),c.Ac(48,"Image"),c.Tb(),c.Pb(49,"input",15),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(50,"button",16),c.cc("click",(function(){return c.tc(o),c.gc().addCoupon()})),c.Ac(51,"Add Coupon"),c.Tb(),c.Tb()}if(2&t){var n=c.rc(44),i=c.gc();c.Cb(1),c.lc("formGroup",i.couponForm),c.Cb(4),c.mc("value",i.company.name),c.Cb(7),c.lc("formControl",i.title),c.Cb(5),c.lc("formControl",i.description),c.Cb(7),c.lc("formControl",i.price),c.Cb(5),c.lc("formControl",i.amount),c.Cb(6),c.lc("formControl",i.type),c.Cb(1),c.lc("ngForOf",i.catTest),c.Cb(5),c.lc("formControl",i.endDate)("matDatepicker",n),c.Cb(1),c.lc("for",n),c.Cb(7),c.lc("formControl",i.image)}}function q(t,e){if(1&t&&(c.Ub(0,"mat-option",17),c.Ac(1),c.Tb()),2&t){var o=e.$implicit;c.lc("value",o),c.Cb(1),c.Cc(" ",o," ")}}function V(t,e){if(1&t){var o=c.Vb();c.Ub(0,"div",1),c.Ub(1,"form",2),c.Ub(2,"mat-form-field",3),c.Ub(3,"mat-label"),c.Ac(4,"Company"),c.Tb(),c.Pb(5,"input",4),c.Tb(),c.Ub(6,"table",5),c.Ub(7,"tr"),c.Ub(8,"td"),c.Ub(9,"mat-form-field",3),c.Ub(10,"mat-label"),c.Ac(11,"Title"),c.Tb(),c.Pb(12,"input",6),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(13,"p"),c.Ub(14,"mat-form-field",3),c.Ub(15,"mat-label"),c.Ac(16,"Description"),c.Tb(),c.Pb(17,"textarea",18),c.Tb(),c.Tb(),c.Ub(18,"table",5),c.Ub(19,"tr"),c.Ub(20,"td"),c.Ub(21,"mat-form-field",3),c.Ub(22,"mat-label"),c.Ac(23,"Price"),c.Tb(),c.Pb(24,"input",8),c.Tb(),c.Tb(),c.Ub(25,"td"),c.Ub(26,"mat-form-field",3),c.Ub(27,"mat-label"),c.Ac(28,"Amount"),c.Tb(),c.Pb(29,"input",8),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(30,"table",5),c.Ub(31,"tr"),c.Ub(32,"td"),c.Ub(33,"mat-label"),c.Ac(34,"Select Category"),c.Tb(),c.Ub(35,"mat-select",9),c.zc(36,q,2,2,"mat-option",10),c.Tb(),c.Tb(),c.Ub(37,"td"),c.Ub(38,"mat-form-field",11),c.Ub(39,"mat-label"),c.Ac(40,"Choose an expiration date"),c.Tb(),c.Pb(41,"input",12),c.Pb(42,"mat-datepicker-toggle",13),c.Pb(43,"mat-datepicker",null,14),c.Tb(),c.Tb(),c.Ub(45,"td"),c.Ub(46,"mat-form-field",3),c.Ub(47,"mat-label"),c.Ac(48,"Image"),c.Tb(),c.Pb(49,"input",15),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(50,"button",16),c.cc("click",(function(){return c.tc(o),c.gc().updateCoupon()})),c.Ac(51,"Update Coupon"),c.Tb(),c.Tb()}if(2&t){var n=c.rc(44),i=c.gc();c.Cb(1),c.lc("formGroup",i.couponForm),c.Cb(4),c.mc("value",i.company.name),c.Cb(7),c.lc("formControl",i.title),c.Cb(5),c.lc("formControl",i.description),c.Cb(7),c.lc("formControl",i.price),c.Cb(5),c.lc("formControl",i.amount),c.Cb(6),c.lc("formControl",i.type),c.Cb(1),c.lc("ngForOf",i.catTest),c.Cb(5),c.lc("formControl",i.endDate)("matDatepicker",n),c.Cb(1),c.lc("for",n),c.Cb(7),c.lc("formControl",i.image)}}var E,G=((E=function(){function t(e,o,n,i,r){_classCallCheck(this,t),this.companyService=e,this.fb=o,this.route=n,this.sharedService=i,this.snackBar=r,this.catTest=[h.a.Electronics,h.a.Food,h.a.Spa,h.a.Sport,h.a.Vacation],this.type=new d.d(h.a.Electronics,d.s.required),this.title=new d.d("",d.s.required),this.description=new d.d("",d.s.required),this.price=new d.d(1,d.s.required),this.amount=new d.d(1,d.s.required),this.category=new d.d("",d.s.required),this.endDate=new d.d(Date.now,d.s.required),this.image=new d.d("",d.s.required)}return _createClass(t,[{key:"ngOnInit",value:function(){this.couponForm=this.fb.group({title:this.title,description:this.description,price:this.price,amount:this.amount,type:this.type,endDate:this.endDate,image:this.image}),null!=this.route.snapshot.queryParamMap.get("couponId")&&(this.couponId=parseInt(this.route.snapshot.queryParamMap.get("couponId")),this.getCoupon()),this.setCompany()}},{key:"addCoupon",value:function(){var t=this;null==this.coupon?this.coupon=new S(null,this.couponForm.get("title").value,this.couponForm.get("description").value,null,this.couponForm.get("amount").value,this.couponForm.get("price").value,new Date,this.couponForm.get("endDate").value,this.couponForm.get("type").value,this.couponForm.get("image").value,!0):(this.coupon.title=this.couponForm.get("title").value,this.coupon.description=this.couponForm.get("description").value,this.coupon.amount=this.couponForm.get("amount").value,this.coupon.price=this.couponForm.get("price").value,this.coupon.endDate=this.couponForm.get("endDate").value,this.coupon.type=this.couponForm.get("type").value,this.coupon.image=this.couponForm.get("image").value),this.companyService.addCoupon(this.coupon).subscribe((function(){return t.snackBar.open("Coupon successfully added","",{duration:3e3})}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}},{key:"updateCoupon",value:function(){var t=this;this.coupon.title=this.couponForm.get("title").value,this.coupon.description=this.couponForm.get("description").value,this.coupon.amount=this.couponForm.get("amount").value,this.coupon.price=this.couponForm.get("price").value,this.coupon.endDate=this.couponForm.get("endDate").value,this.coupon.type=this.couponForm.get("type").value,this.coupon.image=this.couponForm.get("image").value,this.companyService.updateCoupon(this.coupon).subscribe((function(){return t.snackBar.open("Coupon successfully updated","",{duration:3e3})}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}},{key:"getCoupon",value:function(){var t=this;this.sharedService.findCoupon(this.couponId).subscribe((function(e){t.coupon=e,t.setForm()}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}},{key:"setForm",value:function(){this.couponForm.setValue({title:this.coupon.title,description:this.coupon.description,amount:this.coupon.amount,price:this.coupon.price,endDate:this.coupon.endDate,type:this.coupon.type,image:this.coupon.image})}},{key:"setCompany",value:function(){var t=this;this.companyService.getCompanyDetails().subscribe((function(e){t.company=e}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}}]),t}()).\u0275fac=function(t){return new(t||E)(c.Ob(b),c.Ob(d.c),c.Ob(a.a),c.Ob(D.a),c.Ob(m.a))},E.\u0275cmp=c.Ib({type:E,selectors:[["app-coupon-managment"]],decls:2,vars:2,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","disabled","",3,"value"],["cellspacing","0",1,"example-full-width"],["matInput","","type","text",3,"formControl"],["matInput","","placeholder","Lorem ipsum dolor sit amet consectetur adipisicing elit.",3,"formControl"],["matInput","","type","number",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["matInput","",3,"formControl","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","url",3,"formControl"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[3,"value"],["matInput","",3,"formControl"]],template:function(t,e){1&t&&(c.zc(0,z,52,12,"div",0),c.zc(1,V,52,12,"div",0)),2&t&&(c.lc("ngIf",!e.couponId),c.Cb(1),c.lc("ngIf",e.couponId))},directives:[r.m,d.u,d.l,d.f,x.b,x.e,_.b,d.b,d.k,d.e,d.p,M.a,r.l,j.b,j.d,x.f,j.a,H.n],styles:[".example-form[_ngcontent-%COMP%]{background-color:beige}"]}),E),$=o("Wp6s"),J=o("MutI"),K=o("f0Cb");function N(t,e){if(1&t){var o=c.Vb();c.Ub(0,"span",7),c.Ub(1,"button",11),c.cc("click",(function(){return c.tc(o),c.gc().deactivateCoupon()})),c.Ac(2,"Deactivate Coupon"),c.Tb(),c.Tb()}}function R(t,e){if(1&t){var o=c.Vb();c.Ub(0,"span",7),c.Ub(1,"button",12),c.cc("click",(function(){return c.tc(o),c.gc().activateCoupon()})),c.Ac(2,"Activate Coupon"),c.Tb(),c.Tb()}}var Y,X,Q,W,Z=[{path:"",component:f,children:[{path:"allCoupons",component:w},{path:"myDetails",component:(X=function(){function t(e,o){_classCallCheck(this,t),this.companyService=e,this.snackBar=o}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.companyService.getCompanyDetails().subscribe((function(e){return t.company=e}),(function(e){return t.snackBar.open(e,"",{duration:3e3})}))}}]),t}(),X.\u0275fac=function(t){return new(t||X)(c.Ob(b),c.Ob(m.a))},X.\u0275cmp=c.Ib({type:X,selectors:[["app-company-details"]],decls:24,vars:9,consts:[[1,"container"],[1,"example-card"],[1,"row"],[1,"col-5"],["mat-card-image","","src","./assets/imgs/company-avatar.jpg","alt","Company Photo"],[1,"col-8"],[1,"details"],["role","list"],["role","listitem"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"mat-card",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"mat-card-header"),c.Ub(5,"mat-card-title"),c.Ac(6),c.hc(7,"titlecase"),c.Tb(),c.Tb(),c.Pb(8,"img",4),c.Tb(),c.Ub(9,"div",5),c.Ub(10,"p",6),c.Ub(11,"mat-list",7),c.Ub(12,"mat-list-item",8),c.Ac(13),c.hc(14,"titlecase"),c.Tb(),c.Pb(15,"mat-divider"),c.Ub(16,"mat-list-item",8),c.Ac(17),c.Tb(),c.Pb(18,"mat-divider"),c.Ub(19,"mat-list-item",8),c.Ac(20),c.Tb(),c.Pb(21,"mat-divider"),c.Ub(22,"mat-list-item",8),c.Ac(23),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(6),c.Bc(c.ic(7,5,e.company.name)),c.Cb(7),c.Cc("Company Name: ",c.ic(14,7,e.company.name),""),c.Cb(4),c.Cc("Email: ",e.company.email,""),c.Cb(3),c.Cc("Fee: ",e.company.fee,""),c.Cb(3),c.Cc("Total Income: ",e.company.totalIncome,""))},directives:[$.a,$.b,$.e,$.c,J.a,J.b,K.a],pipes:[r.t],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #fc7b12;border-radius:4px;background-color:beige}img[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin-left:2vh}img[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:250px;background-color:#7fffd4}.details[_ngcontent-%COMP%]{text-align:start}"]}),X)},{path:"manageCoupons",component:G},{path:"couponDetails/:id",component:(Y=function(){function t(e,o,n,i,r){_classCallCheck(this,t),this.route=e,this.companyService=o,this.snackBar=n,this.utility=i,this.router=r}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.utility.findCoupon(parseInt(this.route.snapshot.paramMap.get("id"))).subscribe((function(e){t.coupon=e}),(function(t){console.log(t)}))}},{key:"deleteCoupon",value:function(){var t=this;this.companyService.deleteCoupon(this.coupon.id).subscribe((function(){t.snackBar.open("Coupon deleted successfuly","",{duration:3e3})}),(function(e){t.snackBar.open(e,"",{duration:3e3})}))}},{key:"deactivateCoupon",value:function(){var t=this;this.companyService.deactivateCoupon(this.coupon.id).subscribe((function(){t.snackBar.open("Coupon deactivated successfuly","",{duration:3e3})}),(function(e){t.snackBar.open(e,"",{duration:3e3})}))}},{key:"activateCoupon",value:function(){var t=this;this.companyService.activateCoupon(this.coupon.id).subscribe((function(){t.snackBar.open("Coupon activated successfuly","",{duration:3e3})}),(function(e){t.snackBar.open(e,"",{duration:3e3})}))}},{key:"updateCoupon",value:function(){this.router.navigate(["manageCoupons"],{queryParams:{couponId:this.coupon.id},relativeTo:this.route.parent})}}]),t}(),Y.\u0275fac=function(t){return new(t||Y)(c.Ob(a.a),c.Ob(b),c.Ob(m.a),c.Ob(D.a),c.Ob(a.b))},Y.\u0275cmp=c.Ib({type:Y,selectors:[["app-coupon-details-company"]],decls:34,vars:13,consts:[[1,"container"],[1,"my-4"],[1,"row"],[1,"col-md-8"],["alt","",1,"img-fluid",3,"src"],[1,"col-md-4"],[1,"my-3"],[1,"buttons"],["type","button",1,"btn","btn-danger","btn-lg",3,"click"],["class","buttons",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],["type","button",1,"btn","btn-warning","btn-lg",3,"click"],["type","button",1,"btn","btn-success","btn-lg",3,"click"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"h1",1),c.Ac(2),c.Tb(),c.Ub(3,"div",2),c.Ub(4,"div",3),c.Pb(5,"img",4),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"h3",6),c.Ac(8,"Coupon description"),c.Tb(),c.Ub(9,"p"),c.Ac(10),c.Tb(),c.Ub(11,"h3",6),c.Ac(12,"Coupon details"),c.Tb(),c.Ub(13,"ul"),c.Ub(14,"li"),c.Ac(15),c.hc(16,"currency"),c.Tb(),c.Ub(17,"li"),c.Ac(18),c.hc(19,"date"),c.Tb(),c.Ub(20,"li"),c.Ac(21),c.Tb(),c.Ub(22,"li"),c.Ac(23),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(24,"div"),c.Pb(25,"br"),c.Ub(26,"span",7),c.Ub(27,"button",8),c.cc("click",(function(){return e.deleteCoupon()})),c.Ac(28,"Delete Coupon"),c.Tb(),c.Tb(),c.zc(29,N,3,0,"span",9),c.zc(30,R,3,0,"span",9),c.Ub(31,"span",7),c.Ub(32,"button",10),c.cc("click",(function(){return e.updateCoupon()})),c.Ac(33,"Update Coupon"),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.Cc("",e.coupon.title," "),c.Cb(3),c.mc("src",e.coupon.image,c.uc),c.Cb(5),c.Bc(e.coupon.description),c.Cb(5),c.Cc("Price: ",c.ic(16,9,e.coupon.price),""),c.Cb(3),c.Cc("Valid until: ",c.ic(19,11,e.coupon.endDate),""),c.Cb(3),c.Cc("Coupons left: ",e.coupon.amount,""),c.Cb(2),c.Cc("Is Active: ",e.coupon.active,""),c.Cb(6),c.lc("ngIf",e.coupon.active),c.Cb(1),c.lc("ngIf",!e.coupon.active))},directives:[r.m],pipes:[r.d,r.f],styles:[".buttons[_ngcontent-%COMP%]{padding-right:2rem;padding-left:2rem}"]}),Y)}]}],tt=((Q=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:Q}),Q.\u0275inj=c.Lb({factory:function(t){return new(t||Q)},imports:[[a.e.forChild(Z)],a.e]}),Q),et=o("7of8"),ot=o("xuvC"),nt=((W=function t(){_classCallCheck(this,t)}).\u0275mod=c.Mb({type:W,bootstrap:[f]}),W.\u0275inj=c.Lb({factory:function(t){return new(t||W)},imports:[[r.c,tt,et.a,ot.a,d.q,d.g]]}),W)}}]);