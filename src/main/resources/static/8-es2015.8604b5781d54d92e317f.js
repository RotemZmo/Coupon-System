(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{R1GA:function(t,e,o){"use strict";o.r(e),o.d(e,"CustomerModule",(function(){return z}));var r=o("ofXK"),i=o("fXoL"),c=o("tyNb"),n=o("P7Fj"),a=o("sYNt");let s=(()=>{class t{constructor(t,e,o,r){this.router=t,this.tokenService=e,this.customerService=o,this.route=r}ngOnInit(){this.customerService.getCustomerDetails().subscribe(t=>{this.customer=t},t=>{console.log(t)}),this.router.navigate(["allCoupons"],{relativeTo:this.route})}logout(){this.tokenService.logout(),this.router.navigate(["home"])}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(c.b),i.Ob(n.a),i.Ob(a.a),i.Ob(c.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-customer"]],decls:23,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","allCoupons","routerLinkActive","ActiveLink",1,"nav-link"],[1,"sr-only"],["routerLink","myCoupons","routerLinkActive","ActiveLink",1,"nav-link"],[1,"nav-item"],["routerLink","myDetails","routerLinkActive","ActiveLink",1,"nav-link"],["type","submit",1,"btn","btn-outline-danger","my-2","my-sm-0",3,"click"]],template:function(t,e){1&t&&(i.Ub(0,"nav",0),i.Ub(1,"a",1),i.Ac(2),i.Tb(),i.Ub(3,"button",2),i.Pb(4,"span",3),i.Tb(),i.Ub(5,"div",4),i.Ub(6,"ul",5),i.Ub(7,"li",6),i.Ub(8,"a",7),i.Ac(9,"Home "),i.Ub(10,"span",8),i.Ac(11,"(current)"),i.Tb(),i.Tb(),i.Tb(),i.Ub(12,"li",6),i.Ub(13,"a",9),i.Ac(14,"My Coupons "),i.Ub(15,"span",8),i.Ac(16,"(current)"),i.Tb(),i.Tb(),i.Tb(),i.Ub(17,"li",10),i.Ub(18,"a",11),i.Ac(19,"My Details"),i.Tb(),i.Tb(),i.Tb(),i.Ub(20,"button",12),i.cc("click",(function(){return e.logout()})),i.Ac(21,"Logout"),i.Tb(),i.Tb(),i.Tb(),i.Pb(22,"router-outlet")),2&t&&(i.Cb(2),i.Bc(e.customer.firstName))},directives:[c.d,c.c,c.f],styles:[""]}),t})();var l=o("dNgK"),b=o("/eHJ");function u(t,e){if(1&t&&(i.Ub(0,"article"),i.Pb(1,"app-coupon-card",2),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.lc("coupon",t)("isOwned",!1)}}let p=(()=>{class t{constructor(t,e,o){this.customerService=t,this.router=e,this.snackBar=o}ngOnInit(){this.getCoupons()}getCoupons(){this.customerService.getAllAvaiableCoupons().subscribe(t=>this.coupons=t,t=>this.snackBar.open(t,"",{duration:3e3}))}navigate(t){console.log("clicked"),this.router.navigate(["/customer/couponDetails"],{state:t})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(a.a),i.Ob(c.b),i.Ob(l.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-all-coupons"]],decls:2,vars:1,consts:[[1,"card-deck"],[4,"ngFor","ngForOf"],[3,"coupon","isOwned"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.zc(1,u,2,2,"article",1),i.Tb()),2&t&&(i.Cb(1),i.lc("ngForOf",e.coupons))},directives:[r.l,b.a],styles:[""]}),t})();var d=o("3Pt+"),m=o("7koR");function f(t,e){1&t&&(i.Ub(0,"label",12),i.Ac(1," Select Category"),i.Tb())}function g(t,e){if(1&t&&(i.Ub(0,"option",15),i.Ac(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t),i.Cb(1),i.Cc(" ",t,"")}}function v(t,e){if(1&t&&(i.Ub(0,"select",13),i.zc(1,g,2,2,"option",14),i.Tb()),2&t){const t=i.gc();i.lc("formControl",t.type),i.Cb(1),i.lc("ngForOf",t.categories)}}function C(t,e){if(1&t&&(i.Ub(0,"div",16),i.Ub(1,"div",17),i.Ub(2,"span",18),i.Ac(3,"$"),i.Tb(),i.Tb(),i.Pb(4,"input",19),i.Tb()),2&t){const t=i.gc();i.Cb(4),i.lc("formControl",t.maxPrice)}}function h(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",20),i.Ub(1,"button",21),i.cc("click",(function(){return i.tc(t),i.gc().getCouponsByCategory()})),i.Ac(2,"Filter"),i.Tb(),i.Tb()}}function y(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",20),i.Ub(1,"button",21),i.cc("click",(function(){return i.tc(t),i.gc().getCouponsByMaxPrice()})),i.Ac(2,"Filter"),i.Tb(),i.Tb()}}function T(t,e){if(1&t&&(i.Ub(0,"article"),i.Ub(1,"div",23),i.Pb(2,"app-coupon-card",24),i.Tb(),i.Tb()),2&t){const t=e.$implicit;i.Cb(2),i.lc("coupon",t)("isOwned",!0)}}function U(t,e){if(1&t&&(i.Sb(0),i.zc(1,T,3,2,"article",22),i.Rb()),2&t){const t=i.gc();i.Cb(1),i.lc("ngForOf",t.myCoupons)}}function B(t,e){if(1&t&&(i.Ub(0,"article"),i.Ub(1,"div",23),i.Pb(2,"app-coupon-card",24),i.Tb(),i.Tb()),2&t){const t=e.$implicit;i.Cb(2),i.lc("coupon",t)("isOwned",!0)}}function k(t,e){if(1&t&&(i.Sb(0),i.zc(1,B,3,2,"article",22),i.Rb()),2&t){const t=i.gc();i.Cb(1),i.lc("ngForOf",t.myFilteredCoupons)}}let P=(()=>{class t{constructor(t,e,o){this.customerService=t,this.fb=e,this.snackBar=o,this.filtered=!1,this.filterByPriceBool=!1,this.filterByCategoryBool=!1,this.categories=[m.a.Electronics,m.a.Food,m.a.Spa,m.a.Sport,m.a.Vacation],this.maxPrice=new d.d(1),this.type=new d.d(m.a.Electronics,d.s.required)}ngOnInit(){this.getMyPurchases(),this.filterForm=this.fb.group({type:this.type,maxPriceSelected:this.maxPrice}),this.filterForm.valueChanges.subscribe(console.log)}getMyPurchases(){this.customerService.getAllCustomerCoupons().subscribe(t=>this.myCoupons=t,t=>this.snackBar.open(t,"",{duration:3e3}))}filterByPrice(){this.filterByPriceBool=!0,this.filterByCategoryBool=!1}filterByCategory(){this.filterByCategoryBool=!0,this.filterByPriceBool=!1}getCouponsByCategory(){this.filtered=!0,this.customerService.getCustomerCouponsByCategory(this.filterForm.get("type").value).subscribe(t=>{this.myFilteredCoupons=t,console.log(t)},t=>this.snackBar.open(t,"",{duration:3e3}))}getCouponsByMaxPrice(){this.filtered=!0,console.log(this.maxPrice),console.log(this.filterForm.get("maxPriceSelected").value),this.customerService.getCustomerCouponsByPrice(this.filterForm.get("maxPriceSelected").value).subscribe(t=>{this.myFilteredCoupons=t},t=>this.snackBar.open(t,"",{duration:3e3}))}filter(){this.filtered=!0}unfilter(){this.filtered=!1,this.filterByPriceBool=!1,this.filterByCategoryBool=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(a.a),i.Ob(d.c),i.Ob(l.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-my-purchases"]],decls:20,vars:8,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"form-inline",3,"formGroup"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["for","exampleFormControlSelect1",4,"ngIf"],["class","form-control","id","exampleFormControlSelect1",3,"formControl",4,"ngIf"],["class","input-group",4,"ngIf"],["class","form-inline",4,"ngIf"],["id","coupons",1,"row"],[4,"ngIf"],["for","exampleFormControlSelect1"],["id","exampleFormControlSelect1",1,"form-control",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"input-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["type","number","placeholder","Max Price","aria-label","Max Price","aria-describedby","basic-addon1",1,"form-control",3,"formControl"],[1,"form-inline"],["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"],[4,"ngFor","ngForOf"],[1,"col-md-4","mb-5"],[3,"coupon","isOwned"]],template:function(t,e){1&t&&(i.Ub(0,"nav",0),i.Ub(1,"form",1),i.Ub(2,"div",2),i.Ub(3,"button",3),i.Ac(4," Filter By "),i.Tb(),i.Ub(5,"div",4),i.Ub(6,"button",5),i.cc("click",(function(){return e.filterByPrice()})),i.Ac(7,"Price"),i.Tb(),i.Ub(8,"button",5),i.cc("click",(function(){return e.filterByCategory()})),i.Ac(9,"Category"),i.Tb(),i.Ub(10,"button",5),i.cc("click",(function(){return e.unfilter()})),i.Ac(11,"No Filter"),i.Tb(),i.Tb(),i.Tb(),i.zc(12,f,2,0,"label",6),i.zc(13,v,2,2,"select",7),i.zc(14,C,5,1,"div",8),i.Tb(),i.zc(15,h,3,0,"div",9),i.zc(16,y,3,0,"div",9),i.Tb(),i.Ub(17,"div",10),i.zc(18,U,2,1,"ng-container",11),i.zc(19,k,2,1,"ng-container",11),i.Tb()),2&t&&(i.Cb(1),i.lc("formGroup",e.filterForm),i.Cb(11),i.lc("ngIf",e.filterByCategoryBool),i.Cb(1),i.lc("ngIf",e.filterByCategoryBool),i.Cb(1),i.lc("ngIf",e.filterByPriceBool),i.Cb(1),i.lc("ngIf",e.filterByCategoryBool),i.Cb(1),i.lc("ngIf",e.filterByPriceBool),i.Cb(2),i.lc("ngIf",!e.filtered),i.Cb(1),i.lc("ngIf",e.filtered))},directives:[d.u,d.l,d.f,r.m,d.r,d.k,d.e,r.l,d.o,d.t,d.p,d.b,b.a],styles:[""]}),t})();var O=o("Wp6s"),w=o("MutI"),A=o("f0Cb");let F=(()=>{class t{constructor(t,e){this.customerService=t,this.snackBar=e}ngOnInit(){this.getCustomerDetails()}getCustomerDetails(){this.customerService.getCustomerDetails().subscribe(t=>this.customer=t,t=>this.snackBar.open(t,"",{duration:3e3}))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(a.a),i.Ob(l.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-my-details"]],decls:23,vars:13,consts:[[1,"container"],[1,"example-card"],[1,"row"],[1,"col-5"],["mat-card-image","","src","./assets/imgs/avatar-customer.png","alt","User Photo"],[1,"col-8"],[1,"details"],["role","list"],["role","listitem"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"mat-card",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"mat-card-header"),i.Ub(5,"mat-card-title"),i.Ac(6),i.hc(7,"titlecase"),i.hc(8,"titlecase"),i.Tb(),i.Tb(),i.Pb(9,"img",4),i.Tb(),i.Ub(10,"div",5),i.Ub(11,"p",6),i.Ub(12,"mat-list",7),i.Ub(13,"mat-list-item",8),i.Ac(14),i.hc(15,"titlecase"),i.Tb(),i.Pb(16,"mat-divider"),i.Ub(17,"mat-list-item",8),i.Ac(18),i.hc(19,"titlecase"),i.Tb(),i.Pb(20,"mat-divider"),i.Ub(21,"mat-list-item",8),i.Ac(22),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Cb(6),i.Dc("",i.ic(7,5,e.customer.firstName)," ",i.ic(8,7,e.customer.lastName),""),i.Cb(8),i.Cc("First Name: ",i.ic(15,9,e.customer.firstName),""),i.Cb(4),i.Cc("Last Name: ",i.ic(19,11,e.customer.lastName),""),i.Cb(4),i.Cc("Email: ",e.customer.email,""))},directives:[O.a,O.b,O.e,O.c,w.a,w.b,A.a],pipes:[r.t],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #fc7b12;border-radius:4px;background-color:beige}img[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin-left:2vh}img[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:250px;background-color:#7fffd4}.details[_ngcontent-%COMP%]{text-align:start}"]}),t})();var x=o("4KwG");const S=[{path:"",component:s,children:[{path:"allCoupons",component:p},{path:"myCoupons",component:P},{path:"myDetails",component:F},{path:"couponDetails/:id",component:x.a}]}];let I=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[c.e.forChild(S)],c.e]}),t})();var M=o("xuvC"),L=o("7of8");let z=(()=>{class t{}return t.\u0275mod=i.Mb({type:t,bootstrap:[s]}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,I,M.a,d.q,L.a]]}),t})()}}]);