(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"13Ib":function(e,t,a){"use strict";a.r(t),a.d(t,"AdminModule",(function(){return ie}));var r=a("ofXK"),i=a("tyNb"),n=a("fXoL"),s=a("P7Fj");let o=(()=>{class e{constructor(e,t,a){this.router=e,this.tokenService=t,this.route=a}ngOnInit(){this.router.navigate(["home"],{relativeTo:this.route})}logout(){this.tokenService.logout(),this.router.navigate(["home"])}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(i.b),n.Ob(s.a),n.Ob(i.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-admin-layout"]],decls:15,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","home","routerLinkActive","ActiveLink",1,"nav-link"],[1,"sr-only"],["type","submit",1,"btn","btn-outline-danger","my-2","my-sm-0",3,"click"]],template:function(e,t){1&e&&(n.Ub(0,"nav",0),n.Ub(1,"a",1),n.Ac(2,"Admin Panel"),n.Tb(),n.Ub(3,"button",2),n.Pb(4,"span",3),n.Tb(),n.Ub(5,"div",4),n.Ub(6,"ul",5),n.Ub(7,"li",6),n.Ub(8,"a",7),n.Ac(9,"Home "),n.Ub(10,"span",8),n.Ac(11,"(current)"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(12,"button",9),n.cc("click",(function(){return t.logout()})),n.Ac(13,"Logout"),n.Tb(),n.Tb(),n.Tb(),n.Pb(14,"router-outlet"))},directives:[i.d,i.c,i.f],styles:[""]}),e})();var c=a("Dh3D"),l=a("M9IT"),m=a("+0xr"),u=a("R0Ic"),b=function(e){return e.Admin="Admin",e.Customer="Customer",e.Company="Company",e}({}),p=a("JIr8"),d=a("tk/3"),h=a("QOwt");let f=(()=>{class e{constructor(e,t){this.httpClient=e,this.errorService=t}addUser(e){return this.httpClient.post("http://localhost:8080/admin/addUser/user/",e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}deleteUser(e){return this.httpClient.delete("http://localhost:8080/admin/delete/"+e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}deactivateUser(e){return this.httpClient.put("http://localhost:8080/admin/deactivate/"+e,"").pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}activateUser(e){return this.httpClient.put("http://localhost:8080/admin/activate/"+e,"").pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}getAllCompanies(){return this.httpClient.get("http://localhost:8080/admin/get/companies").pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}getAllCustomers(){return this.httpClient.get("http://localhost:8080/admin/get/customers").pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}getCustomer(e){return this.httpClient.get("http://localhost:8080/admin/get/customer/"+e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}getCompany(e){return this.httpClient.get("http://localhost:8080/admin/get/company/"+e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}getAllUsers(){return this.httpClient.get("http://localhost:8080/admin/get/users").pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}getUser(e){return this.httpClient.get("http://localhost:8080/admin/get/user/"+e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}updateCustomer(e){return this.httpClient.put("http://localhost:8080/admin/update/customer",e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}updateCompany(e){return this.httpClient.put("http://localhost:8080/admin/update/company",e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}updateUser(e){return this.httpClient.put("http://localhost:8080/admin/update/user",e).pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}setFee(e,t){return this.httpClient.put("http://localhost:8080/admin/setFee/"+t+"&"+e,"").pipe(Object(p.a)(e=>this.errorService.errorHandler(e)))}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(d.b),n.Yb(h.a))},e.\u0275prov=n.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=a("dNgK"),g=a("wZkO"),y=a("kmnG"),U=a("qFsG"),v=a("bTqV"),T=a("NFeN");function w(e,t){if(1&e&&(n.Ub(0,"th",18),n.Ac(1),n.hc(2,"titlecase"),n.Tb()),2&e){const e=n.gc().$implicit;n.Cb(1),n.Cc(" ",n.ic(2,1,e)," ")}}function k(e,t){if(1&e&&(n.Ub(0,"td",19),n.Ac(1),n.Tb()),2&e){const e=t.$implicit,a=n.gc().$implicit;n.Cb(1),n.Cc(" ",e[a]," ")}}function x(e,t){1&e&&(n.Sb(0,16),n.zc(1,w,3,3,"th",17),n.zc(2,k,2,1,"td",8),n.Rb()),2&e&&n.mc("matColumnDef",t.$implicit)}function S(e,t){if(1&e){const e=n.Vb();n.Ub(0,"button",29),n.cc("click",(function(){n.tc(e);const t=n.gc().$implicit,a=n.gc();return a.activateUser(t.id,a.clientType[0])})),n.Ac(1,"Actiavte Company"),n.Tb()}}function A(e,t){if(1&e){const e=n.Vb();n.Ub(0,"button",30),n.cc("click",(function(){n.tc(e);const t=n.gc().$implicit,a=n.gc();return a.deactivateUser(t.id,a.clientType[0])})),n.Ac(1,"Deactivate Company"),n.Tb()}}function O(e,t){if(1&e){const e=n.Vb();n.Ub(0,"td",19),n.Ub(1,"div",20),n.Ub(2,"div",21),n.Ub(3,"div",22),n.Ub(4,"span",23),n.Ac(5),n.hc(6,"currency"),n.Tb(),n.Tb(),n.Ub(7,"div",24),n.zc(8,S,2,0,"button",25),n.zc(9,A,2,0,"button",26),n.Ub(10,"button",27),n.cc("click",(function(){n.tc(e);const a=t.$implicit,r=n.gc();return r.deleteUser(a.id,r.clientType[0])})),n.Ac(11,"Delete Company"),n.Tb(),n.Ub(12,"button",28),n.cc("click",(function(){n.tc(e);const a=t.$implicit,r=n.gc();return r.updateUser(a.id,r.clientType[0])})),n.Ac(13,"Update Company"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&e){const e=t.$implicit,a=n.gc();n.Db("colspan",a.displayedColumnsCompany.length),n.Cb(1),n.lc("@detailExpand",e==a.expandedElement?"expanded":"collapsed"),n.Cb(4),n.Cc("Total Income: ",n.ic(6,5,e.totalIncome),""),n.Cb(3),n.lc("ngIf",!e.active),n.Cb(1),n.lc("ngIf",e.active)}}function I(e,t){1&e&&n.Pb(0,"tr",31)}function F(e,t){if(1&e){const e=n.Vb();n.Ub(0,"tr",32),n.cc("click",(function(){n.tc(e);const a=t.$implicit,r=n.gc();return r.expandedElement=r.expandedElement===a?null:a})),n.Tb()}if(2&e){const e=t.$implicit,a=n.gc();n.Fb("example-expanded-row",a.expandedElement===e)}}function N(e,t){1&e&&n.Pb(0,"tr",33)}function P(e,t){if(1&e&&(n.Ub(0,"tr",34),n.Ub(1,"td",19),n.Ac(2),n.Tb(),n.Tb()),2&e){n.gc();const e=n.rc(6);n.Cb(2),n.Cc('No data matching the filter "',e.value,'"')}}function z(e,t){if(1&e&&(n.Ub(0,"th",18),n.Ac(1),n.hc(2,"titlecase"),n.Tb()),2&e){const e=n.gc().$implicit;n.Cb(1),n.Cc(" ",n.ic(2,1,e)," ")}}function D(e,t){if(1&e&&(n.Ub(0,"td",19),n.Ac(1),n.Tb()),2&e){const e=t.$implicit,a=n.gc().$implicit;n.Cb(1),n.Cc(" ",e[a]," ")}}function j(e,t){1&e&&(n.Sb(0,16),n.zc(1,z,3,3,"th",17),n.zc(2,D,2,1,"td",8),n.Rb()),2&e&&n.mc("matColumnDef",t.$implicit)}function B(e,t){if(1&e){const e=n.Vb();n.Ub(0,"button",29),n.cc("click",(function(){n.tc(e);const t=n.gc().$implicit,a=n.gc();return a.activateUser(t.id,a.clientType[1])})),n.Ac(1,"Actiavte Customer"),n.Tb()}}function E(e,t){if(1&e){const e=n.Vb();n.Ub(0,"button",30),n.cc("click",(function(){n.tc(e);const t=n.gc().$implicit,a=n.gc();return a.deactivateUser(t.id,a.clientType[1])})),n.Ac(1,"Deactivate Customer"),n.Tb()}}function H(e,t){if(1&e){const e=n.Vb();n.Ub(0,"td",19),n.Ub(1,"div",20),n.Ub(2,"div",21),n.Ub(3,"div",24),n.zc(4,B,2,0,"button",25),n.zc(5,E,2,0,"button",26),n.Ub(6,"button",27),n.cc("click",(function(){n.tc(e);const a=t.$implicit,r=n.gc();return r.deleteUser(a.id,r.clientType[1])})),n.Ac(7,"Delete Customer"),n.Tb(),n.Ub(8,"button",28),n.cc("click",(function(){n.tc(e);const a=t.$implicit,r=n.gc();return r.updateUser(a.id,r.clientType[1])})),n.Ac(9,"Update Customer"),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb()}if(2&e){const e=t.$implicit,a=n.gc();n.Db("colspan",a.displayedColumnsCustomer.length),n.Cb(1),n.lc("@detailExpand",e==a.expandedElement?"expanded":"collapsed"),n.Cb(3),n.lc("ngIf",!e.active),n.Cb(1),n.lc("ngIf",e.active)}}function M(e,t){1&e&&n.Pb(0,"tr",31)}function $(e,t){if(1&e){const e=n.Vb();n.Ub(0,"tr",32),n.cc("click",(function(){n.tc(e);const a=t.$implicit,r=n.gc();return r.expandedElement=r.expandedElement===a?null:a})),n.Tb()}if(2&e){const e=t.$implicit,a=n.gc();n.Fb("example-expanded-row",a.expandedElement===e)}}function R(e,t){1&e&&n.Pb(0,"tr",33)}function q(e,t){if(1&e&&(n.Ub(0,"tr",34),n.Ub(1,"td",19),n.Ac(2),n.Tb(),n.Tb()),2&e){n.gc();const e=n.rc(6);n.Cb(2),n.Cc('No data matching the filter "',e.value,'"')}}const _=function(){return["expandedDetail"]},V=function(){return[5,10,25,100]};let L=(()=>{class e{constructor(e,t,a,r){this.adminService=e,this.router=t,this.route=a,this.snackBar=r,this.clientType=[b.Company,b.Customer,b.Admin],this.displayedColumnsCompany=["id","name","email","fee","active"],this.displayedColumnsCustomer=["id","firstName","lastName","email","active"],this.paginator=new n.E,this.sort=new n.E}ngOnInit(){this.setCompanies(),this.setCustomers()}applyFilterCompany(e){this.dataSourceCompany.filter=e.target.value.trim().toLowerCase(),this.dataSourceCompany.paginator&&this.dataSourceCompany.paginator.firstPage()}applyFilterCustomer(e){this.dataSourceCustomer.filter=e.target.value.trim().toLowerCase(),this.dataSourceCustomer.paginator&&this.dataSourceCustomer.paginator.firstPage()}setCompanies(){this.adminService.getAllCompanies().subscribe(e=>{this.dataSourceCompany=new m.k(e),this.dataSourceCompany.paginator=this.paginator.toArray()[0],this.dataSourceCompany.sort=this.sort.toArray()[0],this.dataSourceCompany.filterPredicate=(e,t)=>e.id===parseInt(t)},e=>this.snackBar.open(e,"",{duration:3e3}))}deleteUser(e,t){this.adminService.deleteUser(e).subscribe(()=>{switch(this.snackBar.open("User successfully deleted.","",{duration:3e3}),t){case b.Company:this.refreshCompanies();break;case b.Customer:this.refreshCustomers()}},e=>this.snackBar.open(e,"",{duration:3e3}))}deactivateUser(e,t){this.adminService.deactivateUser(e).subscribe(()=>{switch(this.snackBar.open("User successfully deactivated.","",{duration:3e3}),t){case b.Company:this.refreshCompanies();break;case b.Customer:this.refreshCustomers()}},e=>this.snackBar.open(e,"",{duration:3e3}))}activateUser(e,t){this.adminService.activateUser(e).subscribe(()=>{switch(this.snackBar.open("User successfully activated.","",{duration:3e3}),t){case b.Company:this.refreshCompanies();break;case b.Customer:this.refreshCustomers()}},e=>this.snackBar.open(e,"",{duration:3e3}))}setCustomers(){this.adminService.getAllCustomers().subscribe(e=>{this.dataSourceCustomer=new m.k(e),this.dataSourceCustomer.paginator=this.paginator.toArray()[1],this.dataSourceCustomer.sort=this.sort.toArray()[1],this.dataSourceCustomer.filterPredicate=(e,t)=>e.id===parseInt(t)},e=>this.snackBar.open(e,"",{duration:3e3}))}refreshCompanies(){this.adminService.getAllCompanies().subscribe(e=>this.dataSourceCompany.data=e,e=>this.snackBar.open(e,"",{duration:3e3}))}refreshCustomers(){this.adminService.getAllCustomers().subscribe(e=>this.dataSourceCustomer.data=e,e=>this.snackBar.open(e,"",{duration:3e3}))}updateUser(e,t){switch(t){case b.Company:case b.Customer:this.router.navigate(["addUser"],{queryParams:{userId:e,cType:t},relativeTo:this.route.parent})}}addUser(e){this.router.navigate(["addUser"],{queryParams:{userId:void 0,cType:e},relativeTo:this.route.parent})}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(f),n.Ob(i.b),n.Ob(i.a),n.Ob(C.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-admin-manage-users"]],viewQuery:function(e,t){var a;1&e&&(n.Fc(l.a,!0),n.Fc(c.a,!0)),2&e&&(n.qc(a=n.dc())&&(t.paginator=a),n.qc(a=n.dc())&&(t.sort=a))},decls:37,vars:16,consts:[["mat-stretch-tabs","",1,"example-stretched-tabs","mat-elevation-z4"],["label","Companies"],["matInput","","placeholder","Ex. 7",3,"keyup"],["input",""],["mat-mini-fab","","color","primary","aria-label","Example icon button with a menu icon",3,"click"],["mat-table","","matSort","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["label","Customers"],["matInput","","placeholder","Ex. Mia",3,"keyup"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"example-element-detail"],[1,"example-element-diagram"],[1,"example-element-description"],[1,"example-element-description-attribution"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",1,"update",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"],[1,"mat-row"]],template:function(e,t){1&e&&(n.Ub(0,"mat-tab-group",0),n.Ub(1,"mat-tab",1),n.Ub(2,"mat-form-field"),n.Ub(3,"mat-label"),n.Ac(4,"Filter by ID"),n.Tb(),n.Ub(5,"input",2,3),n.cc("keyup",(function(e){return t.applyFilterCompany(e)})),n.Tb(),n.Tb(),n.Ub(7,"button",4),n.cc("click",(function(){return t.addUser(t.clientType[0])})),n.Ub(8,"mat-icon"),n.Ac(9,"add"),n.Tb(),n.Tb(),n.Ub(10,"table",5),n.zc(11,x,3,1,"ng-container",6),n.Sb(12,7),n.zc(13,O,14,7,"td",8),n.Rb(),n.zc(14,I,1,0,"tr",9),n.zc(15,F,1,2,"tr",10),n.zc(16,N,1,0,"tr",11),n.zc(17,P,3,1,"tr",12),n.Tb(),n.Pb(18,"mat-paginator",13),n.Tb(),n.Ub(19,"mat-tab",14),n.Ub(20,"mat-form-field"),n.Ub(21,"mat-label"),n.Ac(22,"Filter"),n.Tb(),n.Ub(23,"input",15,3),n.cc("keyup",(function(e){return t.applyFilterCustomer(e)})),n.Tb(),n.Tb(),n.Ub(25,"button",4),n.cc("click",(function(){return t.addUser(t.clientType[1])})),n.Ub(26,"mat-icon"),n.Ac(27,"add"),n.Tb(),n.Tb(),n.Ub(28,"table",5),n.zc(29,j,3,1,"ng-container",6),n.Sb(30,7),n.zc(31,H,10,4,"td",8),n.Rb(),n.zc(32,M,1,0,"tr",9),n.zc(33,$,1,2,"tr",10),n.zc(34,R,1,0,"tr",11),n.zc(35,q,3,1,"tr",12),n.Tb(),n.Pb(36,"mat-paginator",13),n.Tb(),n.Tb()),2&e&&(n.Cb(10),n.lc("dataSource",t.dataSourceCompany),n.Cb(1),n.lc("ngForOf",t.displayedColumnsCompany),n.Cb(3),n.lc("matHeaderRowDef",t.displayedColumnsCompany),n.Cb(1),n.lc("matRowDefColumns",t.displayedColumnsCompany),n.Cb(1),n.lc("matRowDefColumns",n.nc(12,_)),n.Cb(2),n.lc("pageSizeOptions",n.nc(13,V)),n.Cb(10),n.lc("dataSource",t.dataSourceCustomer),n.Cb(1),n.lc("ngForOf",t.displayedColumnsCustomer),n.Cb(3),n.lc("matHeaderRowDef",t.displayedColumnsCustomer),n.Cb(1),n.lc("matRowDefColumns",t.displayedColumnsCustomer),n.Cb(1),n.lc("matRowDefColumns",n.nc(14,_)),n.Cb(2),n.lc("pageSizeOptions",n.nc(15,V)))},directives:[g.b,g.a,y.b,y.e,U.b,v.a,T.a,m.j,c.a,r.l,m.c,m.b,m.g,m.i,l.a,m.e,m.d,c.b,m.a,r.m,m.f,m.h],pipes:[r.t,r.d],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5;cursor:pointer}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{font-weight:700;font-size:20px}.example-button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.update[_ngcontent-%COMP%]{background-color:#32cd32;color:#f5f5f5}"],data:{animation:[Object(u.n)("detailExpand",[Object(u.k)("collapsed, void",Object(u.l)({height:"0px",minHeight:"0",display:"none"})),Object(u.k)("expanded",Object(u.l)({height:"*"})),Object(u.m)("expanded <=> collapsed",Object(u.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)")),Object(u.m)("expanded <=> void",Object(u.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})();var G=a("3Pt+");class J{constructor(e,t,a,r,i,n){this.id=e,this.name=t,this.email=a,this.fee=r,this.totalIncome=i,this.active=n}}class K{constructor(e,t,a,r,i){this.id=e,this.firstName=t,this.lastName=a,this.email=r,this.active=i}}class Q{}function X(e,t){if(1&e){const e=n.Vb();n.Ub(0,"div",1),n.Ub(1,"form",2),n.Ub(2,"mat-form-field",3),n.Ub(3,"mat-label"),n.Ac(4,"Email"),n.Tb(),n.Pb(5,"input",4),n.Tb(),n.Ub(6,"table",5),n.Ub(7,"tr"),n.Ub(8,"td"),n.Ub(9,"mat-form-field",3),n.Ub(10,"mat-label"),n.Ac(11,"Name"),n.Tb(),n.Pb(12,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Ub(13,"tr"),n.Ub(14,"td"),n.Ub(15,"mat-form-field",3),n.Ub(16,"mat-label"),n.Ac(17,"Fee"),n.Tb(),n.Pb(18,"input",7),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(19,"p"),n.Ub(20,"mat-form-field",8),n.Ub(21,"mat-label"),n.Ac(22,"Enter your password"),n.Tb(),n.Pb(23,"input",9),n.Ub(24,"button",10),n.cc("click",(function(){n.tc(e);const t=n.gc();return t.hide=!t.hide})),n.Ub(25,"mat-icon"),n.Ac(26),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(27,"button",11),n.cc("click",(function(){return n.tc(e),n.gc().addCompany()})),n.Ac(28,"Add Company"),n.Tb(),n.Tb()}if(2&e){const e=n.gc();n.Cb(1),n.lc("formGroup",e.userForm),n.Cb(4),n.lc("formControl",e.email),n.Cb(7),n.lc("formControl",e.name),n.Cb(6),n.lc("formControl",e.fee),n.Cb(5),n.lc("type",e.hide?"password":"text")("formControl",e.password),n.Cb(1),n.Db("aria-label","Hide password")("aria-pressed",e.hide),n.Cb(2),n.Bc(e.hide?"visibility_off":"visibility")}}function Y(e,t){if(1&e){const e=n.Vb();n.Ub(0,"div",1),n.Ub(1,"form",2),n.Ub(2,"mat-form-field",3),n.Ub(3,"mat-label"),n.Ac(4,"Email"),n.Tb(),n.Pb(5,"input",4),n.Tb(),n.Ub(6,"table",5),n.Ub(7,"tr"),n.Ub(8,"td"),n.Ub(9,"mat-form-field",3),n.Ub(10,"mat-label"),n.Ac(11,"First Name"),n.Tb(),n.Pb(12,"input",6),n.Tb(),n.Tb(),n.Ub(13,"td"),n.Ub(14,"mat-form-field",3),n.Ub(15,"mat-label"),n.Ac(16,"Last Name"),n.Tb(),n.Pb(17,"input",6),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"p"),n.Ub(19,"mat-form-field",8),n.Ub(20,"mat-label"),n.Ac(21,"Enter your password"),n.Tb(),n.Pb(22,"input",9),n.Ub(23,"button",10),n.cc("click",(function(){n.tc(e);const t=n.gc();return t.hide=!t.hide})),n.Ub(24,"mat-icon"),n.Ac(25),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(26,"button",11),n.cc("click",(function(){return n.tc(e),n.gc().addCustomer()})),n.Ac(27,"Add Customer"),n.Tb(),n.Tb()}if(2&e){const e=n.gc();n.Cb(1),n.lc("formGroup",e.userForm),n.Cb(4),n.lc("formControl",e.email),n.Cb(7),n.lc("formControl",e.firstName),n.Cb(5),n.lc("formControl",e.lastName),n.Cb(5),n.lc("type",e.hide?"password":"text")("formControl",e.password),n.Cb(1),n.Db("aria-label","Hide password")("aria-pressed",e.hide),n.Cb(2),n.Bc(e.hide?"visibility_off":"visibility")}}function Z(e,t){if(1&e){const e=n.Vb();n.Ub(0,"div",1),n.Ub(1,"form",2),n.Ub(2,"mat-form-field",3),n.Ub(3,"mat-label"),n.Ac(4,"Email"),n.Tb(),n.Pb(5,"input",12),n.Tb(),n.Ub(6,"table",5),n.Ub(7,"tr"),n.Ub(8,"td"),n.Ub(9,"mat-form-field",3),n.Ub(10,"mat-label"),n.Ac(11,"Name"),n.Tb(),n.Pb(12,"input",13),n.Tb(),n.Tb(),n.Tb(),n.Ub(13,"tr"),n.Ub(14,"td"),n.Ub(15,"mat-form-field",3),n.Ub(16,"mat-label"),n.Ac(17,"Fee"),n.Tb(),n.Pb(18,"input",14),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(19,"button",11),n.cc("click",(function(){return n.tc(e),n.gc().updateCompany()})),n.Ac(20,"Update Company"),n.Tb(),n.Tb()}if(2&e){const e=n.gc();n.Cb(1),n.lc("formGroup",e.userForm),n.Cb(4),n.mc("value",e.company.email),n.lc("formControl",e.email),n.Cb(7),n.mc("value",e.company.name),n.Cb(6),n.mc("value",e.company.fee),n.lc("formControl",e.fee)}}function W(e,t){if(1&e){const e=n.Vb();n.Ub(0,"div",1),n.Ub(1,"form",2),n.Ub(2,"mat-form-field",3),n.Ub(3,"mat-label"),n.Ac(4,"Email"),n.Tb(),n.Pb(5,"input",12),n.Tb(),n.Ub(6,"table",5),n.Ub(7,"tr"),n.Ub(8,"td"),n.Ub(9,"mat-form-field",3),n.Ub(10,"mat-label"),n.Ac(11,"First Name"),n.Tb(),n.Pb(12,"input",15),n.Tb(),n.Tb(),n.Ub(13,"td"),n.Ub(14,"mat-form-field",3),n.Ub(15,"mat-label"),n.Ac(16,"Last Name"),n.Tb(),n.Pb(17,"input",15),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(18,"button",11),n.cc("click",(function(){return n.tc(e),n.gc().updateCustomer()})),n.Ac(19,"Update Customer"),n.Tb(),n.Tb()}if(2&e){const e=n.gc();n.Cb(1),n.lc("formGroup",e.userForm),n.Cb(4),n.mc("value",e.customer.email),n.lc("formControl",e.email),n.Cb(7),n.mc("value",e.customer.firstName),n.lc("formControl",e.firstName),n.Cb(5),n.mc("value",e.customer.lastName),n.lc("formControl",e.lastName)}}const ee=[{path:"",component:o,children:[{path:"home",component:L},{path:"addUser",component:(()=>{class e{constructor(e,t,a,r,i){this.adminService=e,this.fb=t,this.router=a,this.route=r,this.snackBar=i,this.hide=!0,this.company=new J(1,"default","a@a",.1,0,!0),this.customer=new K(1,"a","a","a@a",!0),this.clientType=[b.Company,b.Customer,b.Admin],this.email=new G.d("",G.s.required),this.password=new G.d("",G.s.required),this.firstName=new G.d("",G.s.required),this.lastName=new G.d("",G.s.required),this.name=new G.d("",G.s.required),this.fee=new G.d(.1,G.s.required)}ngOnInit(){if(this.cType=this.route.snapshot.queryParamMap.get("cType"),null!=this.route.snapshot.queryParamMap.get("userId")&&(this.userId=parseInt(this.route.snapshot.queryParamMap.get("userId"))),null!=this.userId&&null!=this.cType){switch(this.userForm=this.fb.group({email:this.email,firstName:this.firstName,lastName:this.lastName,name:this.name,fee:this.fee}),this.cType){case b.Company:this.setCompany();break;case b.Customer:this.setCustomer()}this.adminService.getUser(this.userId).subscribe(e=>this.oldUser=e,e=>this.snackBar.open(e,"",{duration:3e3}))}else this.userForm=this.fb.group({email:this.email,firstName:this.firstName,lastName:this.lastName,name:this.name,fee:this.fee,password:this.password})}addCustomer(){this.user=new Q,this.user.clientType=b.Customer,this.user.email=this.userForm.get("email").value,this.user.firstName=this.userForm.get("firstName").value,this.user.lastName=this.userForm.get("lastName").value,this.user.password=this.userForm.get("password").value,this.adminService.addUser(this.user).subscribe(()=>this.snackBar.open("New customer successfully added","",{duration:3e3}),e=>this.snackBar.open(e,"",{duration:3e3}))}updateCustomer(){this.customer.email=this.userForm.get("email").value,this.customer.firstName=this.userForm.get("firstName").value,this.customer.lastName=this.userForm.get("lastName").value,this.oldUser.email=this.userForm.get("email").value,this.adminService.updateCustomer(this.customer).subscribe(()=>this.snackBar.open("Customer updated successfully added","",{duration:3e3}),e=>this.snackBar.open(e,"",{duration:3e3})),this.adminService.updateUser(this.oldUser).subscribe(()=>console.log("success user"),e=>this.snackBar.open(e,"",{duration:3e3}))}addCompany(){this.user=new Q,this.user.clientType=b.Company,this.user.email=this.userForm.get("email").value,this.user.name=this.userForm.get("name").value,this.user.fee=this.userForm.get("fee").value,this.user.password=this.userForm.get("password").value,this.adminService.addUser(this.user).subscribe(()=>this.snackBar.open("New company successfully added","",{duration:3e3}),e=>this.snackBar.open(e,"",{duration:3e3}))}updateCompany(){this.company.email=this.userForm.get("email").value,this.company.fee=this.userForm.get("fee").value,this.oldUser.email=this.userForm.get("email").value,this.adminService.updateCompany(this.company).subscribe(()=>this.snackBar.open("Company successfully updated","",{duration:3e3}),e=>this.snackBar.open(e,"",{duration:3e3})),this.adminService.updateUser(this.oldUser).subscribe(()=>console.log("success user"),e=>this.snackBar.open(e,"",{duration:3e3}))}setCompany(){this.adminService.getCompany(this.userId).subscribe(e=>{this.company=e,this.setForm()},e=>this.snackBar.open(e,"",{duration:3e3}))}setCustomer(){this.adminService.getCustomer(this.userId).subscribe(e=>{this.customer=e,this.setForm()},e=>this.snackBar.open(e,"",{duration:3e3}))}setForm(){switch(this.cType){case b.Company:this.userForm.setValue({email:this.company.email,name:this.company.name,fee:this.company.fee,firstName:null,lastName:null}),console.log(this.userForm);break;case b.Customer:this.userForm.setValue({email:this.customer.email,firstName:this.customer.firstName,lastName:this.customer.lastName,name:null,fee:null,password:null})}}}return e.\u0275fac=function(t){return new(t||e)(n.Ob(f),n.Ob(G.c),n.Ob(i.b),n.Ob(i.a),n.Ob(C.a))},e.\u0275cmp=n.Ib({type:e,selectors:[["app-add-user"]],decls:4,vars:4,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","type","email",3,"formControl"],["cellspacing","0",1,"example-full-width"],["matInput","","type","text",3,"formControl"],["matInput","","type","number",3,"formControl"],["appearance","fill",1,"field"],["matInput","",3,"type","formControl"],["mat-icon-button","","matSuffix","",3,"click"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],["matInput","","type","email",3,"formControl","value"],["matInput","","type","text","disabled","",3,"value"],["matInput","","type","number",3,"formControl","value"],["matInput","","type","text",3,"formControl","value"]],template:function(e,t){1&e&&(n.zc(0,X,29,9,"div",0),n.zc(1,Y,28,9,"div",0),n.zc(2,Z,21,6,"div",0),n.zc(3,W,20,7,"div",0)),2&e&&(n.lc("ngIf","Company"==t.cType&&null==t.userId),n.Cb(1),n.lc("ngIf","Customer"==t.cType&&null==t.userId),n.Cb(1),n.lc("ngIf","Company"==t.cType&&null!=t.userId),n.Cb(1),n.lc("ngIf","Customer"==t.cType&&null!=t.userId))},directives:[r.m,G.u,G.l,G.f,y.b,y.e,U.b,G.b,G.k,G.e,G.p,v.a,y.f,T.a],styles:[".example-form[_ngcontent-%COMP%]{background-color:beige}"]}),e})()}]}];let te=(()=>{class e{}return e.\u0275mod=n.Mb({type:e}),e.\u0275inj=n.Lb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(ee)],i.e]}),e})();var ae=a("7of8"),re=a("xuvC");let ie=(()=>{class e{}return e.\u0275mod=n.Mb({type:e,bootstrap:[o]}),e.\u0275inj=n.Lb({factory:function(t){return new(t||e)},imports:[[r.c,te,ae.a,re.a,G.g,G.q]]}),e})()}}]);