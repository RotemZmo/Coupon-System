(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{pYoV:function(t,o,e){"use strict";e.r(o),e.d(o,"CompanyModule",(function(){return Y}));var n=e("ofXK"),i=e("tyNb"),c=e("fXoL"),a=e("P7Fj"),r=e("JIr8"),s=e("tk/3"),p=e("QOwt");let l=(()=>{class t{constructor(t,o){this.httpClient=t,this.errorService=o}addCoupon(t){return this.httpClient.post("http://localhost:8080/company/buyCoupon",t).pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}updateCoupon(t){return this.httpClient.put("http://localhost:8080/company/updateCoupon",t).pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}deleteCoupon(t){return this.httpClient.delete("http://localhost:8080/company/delete/"+t).pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}getAllCompanyCoupons(){return this.httpClient.get("http://localhost:8080/company/all").pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}getCouponsByMaxPrice(t){return this.httpClient.get("http://localhost:8080/company/couponsByPrice/"+t).pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}getCouponsByCategory(t){return this.httpClient.get("http://localhost:8080/company/couponsByCat/"+t).pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}getCompanyDetails(){return this.httpClient.get("http://localhost:8080/company/details").pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}deactivateCoupon(t){return this.httpClient.put("http://localhost:8080/company/deactivateCoup/"+t,"").pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}activateCoupon(t){return this.httpClient.put("http://localhost:8080/company/activateCoupon/"+t,"").pipe(Object(r.a)(t=>this.errorService.errorHandler(t)))}}return t.\u0275fac=function(o){return new(o||t)(c.Yb(s.b),c.Yb(p.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=e("dNgK");let u=(()=>{class t{constructor(t,o,e,n,i){this.router=t,this.tokenService=o,this.compService=e,this.route=n,this.snackBar=i}ngOnInit(){this.compService.getCompanyDetails().subscribe(t=>{this.company=t},t=>this.snackBar.open(t,"",{duration:3e3})),this.router.navigate(["allCoupons"],{relativeTo:this.route})}logout(){this.tokenService.logout(),this.router.navigate(["home"])}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(i.b),c.Ob(a.a),c.Ob(l),c.Ob(i.a),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-company-layout"]],decls:25,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","allCoupons","routerLinkActive","ActiveLink",1,"nav-link"],[1,"sr-only"],["routerLink","manageCoupons","routerLinkActive","ActiveLink",1,"nav-link"],[1,"nav-item"],["routerLink","myDetails","routerLinkActive","ActiveLink",1,"nav-link"],["type","submit",1,"btn","btn-outline-danger","my-2","my-sm-0",3,"click"]],template:function(t,o){1&t&&(c.Ub(0,"nav",0),c.Ub(1,"a",1),c.Ac(2),c.Tb(),c.Ub(3,"button",2),c.Pb(4,"span",3),c.Tb(),c.Ub(5,"div",4),c.Ub(6,"ul",5),c.Ub(7,"li",6),c.Ub(8,"a",7),c.Ac(9,"Home "),c.Ub(10,"span",8),c.Ac(11,"(current)"),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"li",6),c.Ub(13,"a",9),c.Ac(14,"Manage Coupons "),c.Ub(15,"span",8),c.Ac(16,"(current)"),c.Tb(),c.Tb(),c.Tb(),c.Ub(17,"li",10),c.Ub(18,"a",11),c.Ac(19,"Company Details "),c.Ub(20,"span",8),c.Ac(21,"(current)"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(22,"button",12),c.cc("click",(function(){return o.logout()})),c.Ac(23,"Logout"),c.Tb(),c.Tb(),c.Tb(),c.Pb(24,"router-outlet")),2&t&&(c.Cb(2),c.Bc(o.company.name))},directives:[i.d,i.c,i.f],styles:[""]}),t})();var m=e("3Pt+"),d=e("7koR"),h=e("1jcm"),f=e("/eHJ");function C(t,o){1&t&&(c.Ub(0,"label",14),c.Ac(1," Select Category"),c.Tb())}function g(t,o){if(1&t&&(c.Ub(0,"option",17),c.Ac(1),c.Tb()),2&t){const t=o.$implicit;c.lc("value",t),c.Cb(1),c.Cc(" ",t,"")}}function y(t,o){if(1&t&&(c.Ub(0,"select",15),c.zc(1,g,2,2,"option",16),c.Tb()),2&t){const t=c.gc();c.lc("formControl",t.type),c.Cb(1),c.lc("ngForOf",t.categories)}}function v(t,o){if(1&t&&(c.Ub(0,"div",18),c.Ub(1,"div",19),c.Ub(2,"span",20),c.Ac(3,"$"),c.Tb(),c.Tb(),c.Pb(4,"input",21),c.Tb()),2&t){const t=c.gc();c.Cb(4),c.lc("formControl",t.maxPrice)}}function T(t,o){if(1&t){const t=c.Vb();c.Ub(0,"div",1),c.Ub(1,"button",22),c.cc("click",(function(){return c.tc(t),c.gc().getCouponsByCategory()})),c.Ac(2,"Filter"),c.Tb(),c.Tb()}}function U(t,o){if(1&t){const t=c.Vb();c.Ub(0,"div",1),c.Ub(1,"button",22),c.cc("click",(function(){return c.tc(t),c.gc().getCouponsByMaxPrice()})),c.Ac(2,"Filter"),c.Tb(),c.Tb()}}function k(t,o){if(1&t&&(c.Ub(0,"article"),c.Ub(1,"div",24),c.Pb(2,"app-coupon-card",25),c.Tb(),c.Tb()),2&t){const t=o.$implicit;c.Cb(2),c.lc("coupon",t)("isOwned",!0)}}function F(t,o){if(1&t&&(c.Sb(0),c.zc(1,k,3,2,"article",23),c.Rb()),2&t){const t=c.gc();c.Cb(1),c.lc("ngForOf",t.companyFilteredCouponsDisplay)}}function P(t,o){if(1&t&&(c.Ub(0,"article"),c.Ub(1,"div",24),c.Pb(2,"app-coupon-card",25),c.Tb(),c.Tb()),2&t){const t=o.$implicit;c.Cb(2),c.lc("coupon",t)("isOwned",!0)}}function A(t,o){if(1&t&&(c.Sb(0),c.zc(1,P,3,2,"article",23),c.Rb()),2&t){const t=c.gc();c.Cb(1),c.lc("ngForOf",t.companyCouponsDisplay)}}let B=(()=>{class t{constructor(t,o,e){this.companyService=t,this.fb=o,this.snackBar=e,this.filtered=!1,this.filterByPriceBool=!1,this.filterByCategoryBool=!1,this.categories=[d.a.Electronics,d.a.Food,d.a.Spa,d.a.Sport,d.a.Vacation],this.type=new m.d(d.a.Electronics,m.s.required),this.maxPrice=new m.d(1),this.selectCategory=new m.d(""),this.showInactive=!1}ngOnInit(){this.getCompanyCoupons(),this.filterForm=this.fb.group({type:this.type,maxPriceSelected:this.maxPrice})}getCompanyCoupons(){this.companyService.getAllCompanyCoupons().subscribe(t=>{this.companyCoupons=t,this.companyCouponsDisplay=[];for(let o of this.companyCoupons)!0===o.active&&this.companyCouponsDisplay.push(o)},t=>this.snackBar.open(t,"",{duration:3e3}))}filterByPrice(){this.filterByPriceBool=!0,this.filterByCategoryBool=!1}filterByCategory(){this.filterByCategoryBool=!0,this.filterByPriceBool=!1}getCouponsByCategory(){this.filtered=!0,this.companyService.getCouponsByCategory(this.filterForm.get("type").value).subscribe(t=>{if(this.companyFilteredCoupons=t,this.showInactive)this.companyFilteredCouponsDisplay=this.companyFilteredCouponsDisplay;else{this.companyFilteredCouponsDisplay=[];for(let t of this.companyFilteredCoupons)!0===t.active&&this.companyFilteredCouponsDisplay.push(t)}},t=>this.snackBar.open(t,"",{duration:3e3}))}getCouponsByMaxPrice(){this.filtered=!0,console.log(this.maxPrice),console.log(this.filterForm.get("maxPriceSelected").value),this.companyService.getCouponsByMaxPrice(this.filterForm.get("maxPriceSelected").value).subscribe(t=>{if(this.companyFilteredCoupons=t,this.showInactive)this.companyFilteredCouponsDisplay=this.companyFilteredCouponsDisplay;else{this.companyFilteredCouponsDisplay=[];for(let t of this.companyFilteredCoupons)!0===t.active&&this.companyFilteredCouponsDisplay.push(t)}},t=>this.snackBar.open(t,"",{duration:3e3}))}filter(){this.filtered=!0}unfilter(){this.filtered=!1,this.filterByPriceBool=!1,this.filterByCategoryBool=!1}onChange(t){if(!0===t.checked)this.companyCouponsDisplay=this.companyCoupons,this.companyFilteredCouponsDisplay=this.companyFilteredCoupons;else if(this.filtered){this.companyFilteredCouponsDisplay=[];for(let t of this.companyFilteredCoupons)!0===t.active&&this.companyFilteredCouponsDisplay.push(t)}else{this.companyCouponsDisplay=[];for(let t of this.companyCoupons)!0===t.active&&this.companyCouponsDisplay.push(t)}}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(l),c.Ob(m.c),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-all-coupons"]],decls:24,vars:9,consts:[[1,"navbar","navbar-dark","bg-primary"],[1,"form-inline"],[1,"form-inline",3,"formGroup"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["for","exampleFormControlSelect1",4,"ngIf"],["class","form-control","id","exampleFormControlSelect1",3,"formControl",4,"ngIf"],["class","input-group",4,"ngIf"],["class","form-inline",4,"ngIf"],["disableRipple","true",1,"input-group",3,"ngModel","ngModelChange","change"],["id","coupons",1,"row"],[4,"ngIf"],["for","exampleFormControlSelect1"],["id","exampleFormControlSelect1",1,"form-control",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"input-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["type","number","placeholder","Max Price","aria-label","Max Price","aria-describedby","basic-addon1",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-success","my-2","my-sm-0",3,"click"],[4,"ngFor","ngForOf"],[1,"col-md-4","mb-5"],[3,"coupon","isOwned"]],template:function(t,o){1&t&&(c.Ub(0,"nav",0),c.Ub(1,"div",1),c.Ub(2,"form",2),c.Ub(3,"div",3),c.Ub(4,"button",4),c.Ac(5," Filter By "),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"button",6),c.cc("click",(function(){return o.filterByPrice()})),c.Ac(8,"Price"),c.Tb(),c.Ub(9,"button",6),c.cc("click",(function(){return o.filterByCategory()})),c.Ac(10,"Category"),c.Tb(),c.Ub(11,"button",6),c.cc("click",(function(){return o.unfilter()})),c.Ac(12,"No Filter"),c.Tb(),c.Tb(),c.Tb(),c.zc(13,C,2,0,"label",7),c.zc(14,y,2,2,"select",8),c.zc(15,v,5,1,"div",9),c.Tb(),c.zc(16,T,3,0,"div",10),c.zc(17,U,3,0,"div",10),c.Tb(),c.Ub(18,"div"),c.Ub(19,"mat-slide-toggle",11),c.cc("ngModelChange",(function(t){return o.showInactive=t}))("change",(function(t){return o.onChange(t)})),c.Ac(20,"Show Inactive"),c.Tb(),c.Tb(),c.Tb(),c.Ub(21,"div",12),c.zc(22,F,2,1,"ng-container",13),c.zc(23,A,2,1,"ng-container",13),c.Tb()),2&t&&(c.Cb(2),c.lc("formGroup",o.filterForm),c.Cb(11),c.lc("ngIf",o.filterByCategoryBool),c.Cb(1),c.lc("ngIf",o.filterByCategoryBool),c.Cb(1),c.lc("ngIf",o.filterByPriceBool),c.Cb(1),c.lc("ngIf",o.filterByCategoryBool),c.Cb(1),c.lc("ngIf",o.filterByPriceBool),c.Cb(2),c.lc("ngModel",o.showInactive),c.Cb(3),c.lc("ngIf",o.filtered),c.Cb(1),c.lc("ngIf",!o.filtered))},directives:[m.u,m.l,m.f,n.m,h.a,m.k,m.n,m.r,m.e,n.l,m.o,m.t,m.p,m.b,f.a],styles:[".input-group[_ngcontent-%COMP%]{padding-left:1rem}.dropdown[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]{padding-right:1rem}"]}),t})();class I{constructor(t,o,e,n,i,c,a,r,s,p,l){this.id=t,this.title=o,this.description=e,this.company=n,this.amount=i,this.price=c,this.startDate=a,this.endDate=r,this.type=s,this.image=p,this.active=l}}var O=e("A9xy"),w=e("kmnG"),S=e("qFsG"),D=e("d3UM"),x=e("iadO"),M=e("FKr1");function z(t,o){if(1&t&&(c.Ub(0,"mat-option",17),c.Ac(1),c.Tb()),2&t){const t=o.$implicit;c.lc("value",t),c.Cb(1),c.Cc(" ",t," ")}}function j(t,o){if(1&t){const t=c.Vb();c.Ub(0,"div",1),c.Ub(1,"form",2),c.Ub(2,"mat-form-field",3),c.Ub(3,"mat-label"),c.Ac(4,"Company"),c.Tb(),c.Pb(5,"input",4),c.Tb(),c.Ub(6,"table",5),c.Ub(7,"tr"),c.Ub(8,"td"),c.Ub(9,"mat-form-field",3),c.Ub(10,"mat-label"),c.Ac(11,"Title"),c.Tb(),c.Pb(12,"input",6),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(13,"p"),c.Ub(14,"mat-form-field",3),c.Ub(15,"mat-label"),c.Ac(16,"Description"),c.Tb(),c.Pb(17,"textarea",7),c.Tb(),c.Tb(),c.Ub(18,"table",5),c.Ub(19,"tr"),c.Ub(20,"td"),c.Ub(21,"mat-form-field",3),c.Ub(22,"mat-label"),c.Ac(23,"Price"),c.Tb(),c.Pb(24,"input",8),c.Tb(),c.Tb(),c.Ub(25,"td"),c.Ub(26,"mat-form-field",3),c.Ub(27,"mat-label"),c.Ac(28,"Amount"),c.Tb(),c.Pb(29,"input",8),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(30,"table",5),c.Ub(31,"tr"),c.Ub(32,"td"),c.Ub(33,"mat-label"),c.Ac(34,"Select Category"),c.Tb(),c.Ub(35,"mat-select",9),c.zc(36,z,2,2,"mat-option",10),c.Tb(),c.Tb(),c.Ub(37,"td"),c.Ub(38,"mat-form-field",11),c.Ub(39,"mat-label"),c.Ac(40,"Choose an expiration date"),c.Tb(),c.Pb(41,"input",12),c.Pb(42,"mat-datepicker-toggle",13),c.Pb(43,"mat-datepicker",null,14),c.Tb(),c.Tb(),c.Ub(45,"td"),c.Ub(46,"mat-form-field",3),c.Ub(47,"mat-label"),c.Ac(48,"Image"),c.Tb(),c.Pb(49,"input",15),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(50,"button",16),c.cc("click",(function(){return c.tc(t),c.gc().addCoupon()})),c.Ac(51,"Add Coupon"),c.Tb(),c.Tb()}if(2&t){const t=c.rc(44),o=c.gc();c.Cb(1),c.lc("formGroup",o.couponForm),c.Cb(4),c.mc("value",o.company.name),c.Cb(7),c.lc("formControl",o.title),c.Cb(5),c.lc("formControl",o.description),c.Cb(7),c.lc("formControl",o.price),c.Cb(5),c.lc("formControl",o.amount),c.Cb(6),c.lc("formControl",o.type),c.Cb(1),c.lc("ngForOf",o.catTest),c.Cb(5),c.lc("formControl",o.endDate)("matDatepicker",t),c.Cb(1),c.lc("for",t),c.Cb(7),c.lc("formControl",o.image)}}function q(t,o){if(1&t&&(c.Ub(0,"mat-option",17),c.Ac(1),c.Tb()),2&t){const t=o.$implicit;c.lc("value",t),c.Cb(1),c.Cc(" ",t," ")}}function L(t,o){if(1&t){const t=c.Vb();c.Ub(0,"div",1),c.Ub(1,"form",2),c.Ub(2,"mat-form-field",3),c.Ub(3,"mat-label"),c.Ac(4,"Company"),c.Tb(),c.Pb(5,"input",4),c.Tb(),c.Ub(6,"table",5),c.Ub(7,"tr"),c.Ub(8,"td"),c.Ub(9,"mat-form-field",3),c.Ub(10,"mat-label"),c.Ac(11,"Title"),c.Tb(),c.Pb(12,"input",6),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(13,"p"),c.Ub(14,"mat-form-field",3),c.Ub(15,"mat-label"),c.Ac(16,"Description"),c.Tb(),c.Pb(17,"textarea",18),c.Tb(),c.Tb(),c.Ub(18,"table",5),c.Ub(19,"tr"),c.Ub(20,"td"),c.Ub(21,"mat-form-field",3),c.Ub(22,"mat-label"),c.Ac(23,"Price"),c.Tb(),c.Pb(24,"input",8),c.Tb(),c.Tb(),c.Ub(25,"td"),c.Ub(26,"mat-form-field",3),c.Ub(27,"mat-label"),c.Ac(28,"Amount"),c.Tb(),c.Pb(29,"input",8),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(30,"table",5),c.Ub(31,"tr"),c.Ub(32,"td"),c.Ub(33,"mat-label"),c.Ac(34,"Select Category"),c.Tb(),c.Ub(35,"mat-select",9),c.zc(36,q,2,2,"mat-option",10),c.Tb(),c.Tb(),c.Ub(37,"td"),c.Ub(38,"mat-form-field",11),c.Ub(39,"mat-label"),c.Ac(40,"Choose an expiration date"),c.Tb(),c.Pb(41,"input",12),c.Pb(42,"mat-datepicker-toggle",13),c.Pb(43,"mat-datepicker",null,14),c.Tb(),c.Tb(),c.Ub(45,"td"),c.Ub(46,"mat-form-field",3),c.Ub(47,"mat-label"),c.Ac(48,"Image"),c.Tb(),c.Pb(49,"input",15),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(50,"button",16),c.cc("click",(function(){return c.tc(t),c.gc().updateCoupon()})),c.Ac(51,"Update Coupon"),c.Tb(),c.Tb()}if(2&t){const t=c.rc(44),o=c.gc();c.Cb(1),c.lc("formGroup",o.couponForm),c.Cb(4),c.mc("value",o.company.name),c.Cb(7),c.lc("formControl",o.title),c.Cb(5),c.lc("formControl",o.description),c.Cb(7),c.lc("formControl",o.price),c.Cb(5),c.lc("formControl",o.amount),c.Cb(6),c.lc("formControl",o.type),c.Cb(1),c.lc("ngForOf",o.catTest),c.Cb(5),c.lc("formControl",o.endDate)("matDatepicker",t),c.Cb(1),c.lc("for",t),c.Cb(7),c.lc("formControl",o.image)}}let H=(()=>{class t{constructor(t,o,e,n,i){this.companyService=t,this.fb=o,this.route=e,this.sharedService=n,this.snackBar=i,this.catTest=[d.a.Electronics,d.a.Food,d.a.Spa,d.a.Sport,d.a.Vacation],this.type=new m.d(d.a.Electronics,m.s.required),this.title=new m.d("",m.s.required),this.description=new m.d("",m.s.required),this.price=new m.d(1,m.s.required),this.amount=new m.d(1,m.s.required),this.category=new m.d("",m.s.required),this.endDate=new m.d(Date.now,m.s.required),this.image=new m.d("",m.s.required)}ngOnInit(){this.couponForm=this.fb.group({title:this.title,description:this.description,price:this.price,amount:this.amount,type:this.type,endDate:this.endDate,image:this.image}),null!=this.route.snapshot.queryParamMap.get("couponId")&&(this.couponId=parseInt(this.route.snapshot.queryParamMap.get("couponId")),this.getCoupon()),this.setCompany()}addCoupon(){null==this.coupon?this.coupon=new I(null,this.couponForm.get("title").value,this.couponForm.get("description").value,null,this.couponForm.get("amount").value,this.couponForm.get("price").value,new Date,this.couponForm.get("endDate").value,this.couponForm.get("type").value,this.couponForm.get("image").value,!0):(this.coupon.title=this.couponForm.get("title").value,this.coupon.description=this.couponForm.get("description").value,this.coupon.amount=this.couponForm.get("amount").value,this.coupon.price=this.couponForm.get("price").value,this.coupon.endDate=this.couponForm.get("endDate").value,this.coupon.type=this.couponForm.get("type").value,this.coupon.image=this.couponForm.get("image").value),this.companyService.addCoupon(this.coupon).subscribe(()=>this.snackBar.open("Coupon successfully added","",{duration:3e3}),t=>this.snackBar.open(t,"",{duration:3e3}))}updateCoupon(){this.coupon.title=this.couponForm.get("title").value,this.coupon.description=this.couponForm.get("description").value,this.coupon.amount=this.couponForm.get("amount").value,this.coupon.price=this.couponForm.get("price").value,this.coupon.endDate=this.couponForm.get("endDate").value,this.coupon.type=this.couponForm.get("type").value,this.coupon.image=this.couponForm.get("image").value,this.companyService.updateCoupon(this.coupon).subscribe(()=>this.snackBar.open("Coupon successfully updated","",{duration:3e3}),t=>this.snackBar.open(t,"",{duration:3e3}))}getCoupon(){this.sharedService.findCoupon(this.couponId).subscribe(t=>{this.coupon=t,this.setForm()},t=>this.snackBar.open(t,"",{duration:3e3}))}setForm(){this.couponForm.setValue({title:this.coupon.title,description:this.coupon.description,amount:this.coupon.amount,price:this.coupon.price,endDate:this.coupon.endDate,type:this.coupon.type,image:this.coupon.image})}setCompany(){this.companyService.getCompanyDetails().subscribe(t=>{this.company=t},t=>this.snackBar.open(t,"",{duration:3e3}))}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(l),c.Ob(m.c),c.Ob(i.a),c.Ob(O.a),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-coupon-managment"]],decls:2,vars:2,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],[1,"example-form",3,"formGroup"],[1,"example-full-width"],["matInput","","disabled","",3,"value"],["cellspacing","0",1,"example-full-width"],["matInput","","type","text",3,"formControl"],["matInput","","placeholder","Lorem ipsum dolor sit amet consectetur adipisicing elit.",3,"formControl"],["matInput","","type","number",3,"formControl"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill"],["matInput","",3,"formControl","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","url",3,"formControl"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[3,"value"],["matInput","",3,"formControl"]],template:function(t,o){1&t&&(c.zc(0,j,52,12,"div",0),c.zc(1,L,52,12,"div",0)),2&t&&(c.lc("ngIf",!o.couponId),c.Cb(1),c.lc("ngIf",o.couponId))},directives:[n.m,m.u,m.l,m.f,w.b,w.e,S.b,m.b,m.k,m.e,m.p,D.a,n.l,x.b,x.d,w.f,x.a,M.n],styles:[".example-form[_ngcontent-%COMP%]{background-color:beige}"]}),t})();var V=e("Wp6s"),_=e("MutI"),G=e("f0Cb");function $(t,o){if(1&t){const t=c.Vb();c.Ub(0,"span",7),c.Ub(1,"button",11),c.cc("click",(function(){return c.tc(t),c.gc().deactivateCoupon()})),c.Ac(2,"Deactivate Coupon"),c.Tb(),c.Tb()}}function E(t,o){if(1&t){const t=c.Vb();c.Ub(0,"span",7),c.Ub(1,"button",12),c.cc("click",(function(){return c.tc(t),c.gc().activateCoupon()})),c.Ac(2,"Activate Coupon"),c.Tb(),c.Tb()}}const J=[{path:"",component:u,children:[{path:"allCoupons",component:B},{path:"myDetails",component:(()=>{class t{constructor(t,o){this.companyService=t,this.snackBar=o}ngOnInit(){this.companyService.getCompanyDetails().subscribe(t=>this.company=t,t=>this.snackBar.open(t,"",{duration:3e3}))}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(l),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-company-details"]],decls:24,vars:9,consts:[[1,"container"],[1,"example-card"],[1,"row"],[1,"col-5"],["mat-card-image","","src","./assets/imgs/company-avatar.jpg","alt","Company Photo"],[1,"col-8"],[1,"details"],["role","list"],["role","listitem"]],template:function(t,o){1&t&&(c.Ub(0,"div",0),c.Ub(1,"mat-card",1),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"mat-card-header"),c.Ub(5,"mat-card-title"),c.Ac(6),c.hc(7,"titlecase"),c.Tb(),c.Tb(),c.Pb(8,"img",4),c.Tb(),c.Ub(9,"div",5),c.Ub(10,"p",6),c.Ub(11,"mat-list",7),c.Ub(12,"mat-list-item",8),c.Ac(13),c.hc(14,"titlecase"),c.Tb(),c.Pb(15,"mat-divider"),c.Ub(16,"mat-list-item",8),c.Ac(17),c.Tb(),c.Pb(18,"mat-divider"),c.Ub(19,"mat-list-item",8),c.Ac(20),c.Tb(),c.Pb(21,"mat-divider"),c.Ub(22,"mat-list-item",8),c.Ac(23),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(6),c.Bc(c.ic(7,5,o.company.name)),c.Cb(7),c.Cc("Company Name: ",c.ic(14,7,o.company.name),""),c.Cb(4),c.Cc("Email: ",o.company.email,""),c.Cb(3),c.Cc("Fee: ",o.company.fee,""),c.Cb(3),c.Cc("Total Income: ",o.company.totalIncome,""))},directives:[V.a,V.b,V.e,V.c,_.a,_.b,G.a],pipes:[n.t],styles:["mat-card[_ngcontent-%COMP%]{border:1px solid #fc7b12;border-radius:4px;background-color:beige}img[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin-left:2vh}img[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:10px;width:250px;background-color:#7fffd4}.details[_ngcontent-%COMP%]{text-align:start}"]}),t})()},{path:"manageCoupons",component:H},{path:"couponDetails/:id",component:(()=>{class t{constructor(t,o,e,n,i){this.route=t,this.companyService=o,this.snackBar=e,this.utility=n,this.router=i}ngOnInit(){this.utility.findCoupon(parseInt(this.route.snapshot.paramMap.get("id"))).subscribe(t=>{this.coupon=t},t=>{console.log(t)})}deleteCoupon(){this.companyService.deleteCoupon(this.coupon.id).subscribe(()=>{this.snackBar.open("Coupon deleted successfuly","",{duration:3e3})},t=>{this.snackBar.open(t,"",{duration:3e3})})}deactivateCoupon(){this.companyService.deactivateCoupon(this.coupon.id).subscribe(()=>{this.snackBar.open("Coupon deactivated successfuly","",{duration:3e3})},t=>{this.snackBar.open(t,"",{duration:3e3})})}activateCoupon(){this.companyService.activateCoupon(this.coupon.id).subscribe(()=>{this.snackBar.open("Coupon activated successfuly","",{duration:3e3})},t=>{this.snackBar.open(t,"",{duration:3e3})})}updateCoupon(){this.router.navigate(["manageCoupons"],{queryParams:{couponId:this.coupon.id},relativeTo:this.route.parent})}}return t.\u0275fac=function(o){return new(o||t)(c.Ob(i.a),c.Ob(l),c.Ob(b.a),c.Ob(O.a),c.Ob(i.b))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-coupon-details-company"]],decls:34,vars:13,consts:[[1,"container"],[1,"my-4"],[1,"row"],[1,"col-md-8"],["alt","",1,"img-fluid",3,"src"],[1,"col-md-4"],[1,"my-3"],[1,"buttons"],["type","button",1,"btn","btn-danger","btn-lg",3,"click"],["class","buttons",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],["type","button",1,"btn","btn-warning","btn-lg",3,"click"],["type","button",1,"btn","btn-success","btn-lg",3,"click"]],template:function(t,o){1&t&&(c.Ub(0,"div",0),c.Ub(1,"h1",1),c.Ac(2),c.Tb(),c.Ub(3,"div",2),c.Ub(4,"div",3),c.Pb(5,"img",4),c.Tb(),c.Ub(6,"div",5),c.Ub(7,"h3",6),c.Ac(8,"Coupon description"),c.Tb(),c.Ub(9,"p"),c.Ac(10),c.Tb(),c.Ub(11,"h3",6),c.Ac(12,"Coupon details"),c.Tb(),c.Ub(13,"ul"),c.Ub(14,"li"),c.Ac(15),c.hc(16,"currency"),c.Tb(),c.Ub(17,"li"),c.Ac(18),c.hc(19,"date"),c.Tb(),c.Ub(20,"li"),c.Ac(21),c.Tb(),c.Ub(22,"li"),c.Ac(23),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(24,"div"),c.Pb(25,"br"),c.Ub(26,"span",7),c.Ub(27,"button",8),c.cc("click",(function(){return o.deleteCoupon()})),c.Ac(28,"Delete Coupon"),c.Tb(),c.Tb(),c.zc(29,$,3,0,"span",9),c.zc(30,E,3,0,"span",9),c.Ub(31,"span",7),c.Ub(32,"button",10),c.cc("click",(function(){return o.updateCoupon()})),c.Ac(33,"Update Coupon"),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.Cc("",o.coupon.title," "),c.Cb(3),c.mc("src",o.coupon.image,c.uc),c.Cb(5),c.Bc(o.coupon.description),c.Cb(5),c.Cc("Price: ",c.ic(16,9,o.coupon.price),""),c.Cb(3),c.Cc("Valid until: ",c.ic(19,11,o.coupon.endDate),""),c.Cb(3),c.Cc("Coupons left: ",o.coupon.amount,""),c.Cb(2),c.Cc("Is Active: ",o.coupon.active,""),c.Cb(6),c.lc("ngIf",o.coupon.active),c.Cb(1),c.lc("ngIf",!o.coupon.active))},directives:[n.m],pipes:[n.d,n.f],styles:[".buttons[_ngcontent-%COMP%]{padding-right:2rem;padding-left:2rem}"]}),t})()}]}];let K=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(o){return new(o||t)},imports:[[i.e.forChild(J)],i.e]}),t})();var N=e("7of8"),R=e("xuvC");let Y=(()=>{class t{}return t.\u0275mod=c.Mb({type:t,bootstrap:[u]}),t.\u0275inj=c.Lb({factory:function(o){return new(o||t)},imports:[[n.c,K,N.a,R.a,m.q,m.g]]}),t})()}}]);